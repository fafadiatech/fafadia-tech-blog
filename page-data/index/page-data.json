{"componentChunkName":"component---src-pages-index-js","path":"/","result":{"data":{"site":{"meta":{"title":"Fafadia Tech Blog","description":"Official Blog of Fafadia Tech","url":"http://www.fafadiatech.com","author":"fafadiatech","twitter":"fafadiatechhq``","adsense":""}},"remark":{"posts":[{"post":{"html":"<h2>What is ERP ?</h2>\n<p>ERP is a software built to manage all business functions on one platform. All the business functions are tied together by linking the relationship between different functions.</p>\n<h2>Why before How</h2>\n<p>Before knowing how to use an ERP, you should know “Why do you want to use an ERP?” The answer to How will depend on Why you want to use it.</p>\n<p>Define:</p>\n<ul>\n<li>What is the desired outcome of Implementing an ERP?</li>\n<li>What sort of Reports and/or Dashboards do you want?</li>\n<li>What are the challenges that you would like to overcome?</li>\n</ul>\n<p>Some of the major challenges faced by Businesses are:</p>\n<ul>\n<li><strong>Too much chaos:</strong> Business can be chaotic. Coordination between multiple entities and agencies can be daunting, leading to financial loss or loss of motivation in employees.</li>\n<li><strong>Delayed Deliveries:</strong> Deliveries get delayed due to various reasons, most common amongst them is coordination between various departments, mainly Production and Sales.</li>\n<li><strong>Stock Issues:</strong> Overstocking or under-stocking can hamper an organization’s profitability and service.</li>\n<li><strong>Quality Issues:</strong> Quality issues can hamper an organization’s image and even lead to financial loss.</li>\n</ul>\n<!--more-->\n<p>For designing an efficient business process a company needs to have 3 major things:</p>\n<ol>\n<li>Centralized Data System</li>\n<li>Clear Communication Processes</li>\n<li>Reliable Analytics</li>\n</ol>\n<h2>How an ERP can help</h2>\n<p>An ERP can help by unifying information related to a company coherently which helps businesses solve problems. Behind the scenes working of an ERP can be explained best by the below figure:</p>\n<h3>Typical Process Flow</h3>\n<p align=\"center\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-bottom: 1.0725rem; max-width: 750px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.7%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQ4y62U2W5CMQxE86vte/s98D2IwgMIgYQQ+77v+46rY2nQpe1jI0XJdezJeOzcsFwubTAYGOtut/P9dDr1/Ww2s2Qyafl83kqlkmUyGev3+342n89tNBrZdru1xWJhvV7PWq2WBQ6Px6NPQCeTiQOuVis7nU623+99xY8Vv81m48HlctlBsZ/PZ+t0OhYul4tprNdrZwUgQNER9bterw6M/+FwsMfj4fbxeGwBZMb9fncHUmbiyMCZCUgUUAN2t9vN97B9ASQtaKMHjtgAYyVNJj7SDXkgIYYvgIxKpWKxWMzi8bg1m00HBYT0AMBGUQBkrdfrrvUvQBmo5vvbu318fFq1WnUQxIcFzIbDoQeRImfsuZAMnoCwUMoEpFJfXgAuIZA9mlEkWCE8JChet9v1ywRIfIAyDgTTW0xsFEWAnBOIZjDjDEC0xpczJlkFbsFJFf2rTX5WNrrnUlJF/2KxaIFUuAW66IEzYNhxJh1sYsw3RUIq7BSIB8G5M8QAXbRRkxJIAN+cAc5evhSIS9VOtVrN7el02kKj0XCwaCoCJZVcLufaAUjb8KZhxDmTy9R6/vRUdqZ0A1BOeimwoxCSJpFIOLAa/wmIHkrxp/DY0BcWpEQHAMqe/oS12orRbrctUOFCoeB/Dr1LHGBI32WzWWclEF4HEsAKH9iqgP774hb9lvQb0jd7TWxRv6gvqzojKP//Gt/7uWLUDDLsRAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"aeron process flow diagram\" title=\"aeron process flow diagram\" src=\"/blog/static/0f55da4ebe11350f4f0b7efe1edbdca0/1d69c/aeron-process-flow-diagram.png\" srcset=\"/blog/static/0f55da4ebe11350f4f0b7efe1edbdca0/4dcb9/aeron-process-flow-diagram.png 188w,\n/blog/static/0f55da4ebe11350f4f0b7efe1edbdca0/5ff7e/aeron-process-flow-diagram.png 375w,\n/blog/static/0f55da4ebe11350f4f0b7efe1edbdca0/1d69c/aeron-process-flow-diagram.png 750w,\n/blog/static/0f55da4ebe11350f4f0b7efe1edbdca0/00d43/aeron-process-flow-diagram.png 1000w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>  \n</p>\n<h3>Typical Sales Cycle</h3>\n<p align=\"center\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-bottom: 1.0725rem; max-width: 750px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 77.32793522267207%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd1OiRh//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRABAQEAAwAAAAAAAAAAAAAAAQARECFB/9oACAEBAAE/IXLA8CCO+C//2gAMAwEAAgADAAAAEEPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAREhADFB/9oACAEBAAE/EIBLtxUTB8GBchI2x64Cqd//2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sales process flow\" title=\"sales process flow\" src=\"/blog/static/9af090cdf24cae07b41903a93a2f4ceb/acb04/sales-process-flow.jpg\" srcset=\"/blog/static/9af090cdf24cae07b41903a93a2f4ceb/bc01b/sales-process-flow.jpg 188w,\n/blog/static/9af090cdf24cae07b41903a93a2f4ceb/bf173/sales-process-flow.jpg 375w,\n/blog/static/9af090cdf24cae07b41903a93a2f4ceb/acb04/sales-process-flow.jpg 750w,\n/blog/static/9af090cdf24cae07b41903a93a2f4ceb/693cc/sales-process-flow.jpg 988w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>  \n</p>\n<h2>How to actually use an ERP</h2>\n<p>The best approach while implementing ERP is working backward. Define your Why before you define your How. The following can be used as a guideline:</p>\n<ol>\n<li>\n<p><strong>Define your Desired Output:</strong></p>\n<ol>\n<li>Define the processes and objectives of the business based on which decide the reports and dashboards required to attain the objectives.</li>\n<li>Define the modules that will record the required data. If the reports are not ready, prepare the reports in a simple spreadsheet/excel format with the needed headers.</li>\n</ol>\n</li>\n<li><strong>Start Small:</strong> Decide the priority of the various modules and start by implementing one module at a time.</li>\n<li>\n<p><strong>Upload Required Data:</strong> Suppose the company wishes to implement the purchase cycle first it would require to upload :</p>\n<ol>\n<li>A few supplier names(3-4 to begin with)</li>\n<li>Raw material details like- item code, Item name and unit of measurement</li>\n<li>A warehouse where Inventory will be stocked</li>\n</ol>\n</li>\n<li><strong>Simple Configurations:</strong> The next step is to complete all the configurations required to complete one trial circle.</li>\n<li>\n<p><strong>Simulate Trial Cycle:</strong></p>\n<ol>\n<li>Once the configurations are in place simulate a trial cycle with all stakeholders and take note of gaps if any with the current solution provided by the software.</li>\n<li>Discuss with an ERP consultant how these gaps can be bridged.</li>\n<li>General sequence of Trial Cycle can be as below</li>\n<li>Purchase</li>\n<li>Sales</li>\n<li>Manufacturing</li>\n<li>Inventory</li>\n<li>Accounting</li>\n<li>Support</li>\n<li>Human Resource</li>\n</ol>\n</li>\n<li><strong>Simulate all Modules:</strong> The same procedure needs to be repeated for all modules one by one.</li>\n<li><strong>Simulate end-to-end Workflow:</strong> Once trial cycles are run for all individual modules, simulate the end-to-end workflow of the company and figure out gaps if any.</li>\n<li>\n<p><strong>Train Users:</strong> Training is the most important aspect of ERP software.</p>\n<ol>\n<li>Training ensures there are fewer hindrances in the implementation process. The end-users of the software need to be included in the process as early as possible.</li>\n<li>If the end-users do not use the system correctly, the whole purpose of an ERP is defeated.</li>\n<li>The users should be trained department or module wise.</li>\n<li>Change for any person is hard therefore it should be kept in mind that training should be simple and easy at the beginning. A big bang approach may demoralize the users and jeopardize the adoption.</li>\n</ol>\n</li>\n<li><strong>Review Reports and Dashboard:</strong> Once the complete workflow is reviewed, the reports and dashboards need to be checked to see if anything has been missed out.</li>\n<li>\n<p><strong>Data Migration:</strong> After trial cycles are run and reviewed, the next major and important step is data migration.</p>\n<ol>\n<li>All required masters-Item, Customer, Supplier, and Employee need to be loaded</li>\n<li>Data migration helps in smooth transitioning and future utilization of the software</li>\n<li><strong>Things to take care during Data Migration is as follows</strong></li>\n<li><strong>Duplicates:</strong> Make sure there are no duplicates. For example: Customer called Acme Inc cannot be mentioned twice in the Masters. Also Acme Inc with different spellings may exist in the legacy system. This is a good time to remove all duplicates and import correct data to the system. This will improve the reporting.</li>\n<li><strong>Data Completeness:</strong> Make sure all the data is included while migrating the data. Having simple checks like Total number if Customers and tallying it with the imported data will ensure complete data is migrated.</li>\n<li><strong>Data Integrity:</strong> This is important for data that involves financials and other numerical values that need to tally based on the business logic. Check your Accounting data for integrity by applying simple checks to make sure the data being migrated is correct</li>\n<li><strong>Dependencies:</strong> Make sure the data is migrated in the right order. For example: Item Master needs to be imported before Bill of Material (BOM) can be uploaded</li>\n</ol>\n</li>\n<li>\n<p><strong>Parallel Run:</strong> Parallel run is a very important step in the ERP implementation process.</p>\n<ol>\n<li>Once the users have been trained, the company should parallel run the new ERP system with the legacy system for at least 15 days</li>\n<li>This will give users a real-life practical experience of the software and a chance to figure out any edge cases that may have been missed out</li>\n<li>Things to keep in mind for parallel run are as follows</li>\n<li><strong>Don’t be stuck with the way your software should work.</strong> Try to work with the software as it is unless it is a show-stopper. Making changes to software can be time and cost consuming</li>\n<li><strong>Don’t try to address the most complex scenarios first,</strong> thinking complex scenarios will take care of simple ones as well. You will end up confusing yourself and the Implementation team. Try adding complexity gradually and tackle it smartly with your Implementation team’s advice</li>\n<li><strong>Don’t treat Parallel Run as a side project.</strong> This is as critical as your daily operations. An ERP is going to be a mission critical part of your organization once it goes live. It’s success depends highly on its adaption by the user and thus parallel run is equally important. <strong>Take out one hour per day for practice.</strong></li>\n</ol>\n</li>\n<li>\n<p><strong>Go-live Preparation:</strong> Once the ERP solution is properly reviewed, it is time to go live.</p>\n<ol>\n<li>In this phase, a new instance with the latest Masters, Opening Balances, and Configuration is prepared for go-live</li>\n<li>A final set of testing on Live instance is performed before going live</li>\n<li>In order to plan a smooth Go-Live, it is important to allocate at least 2 weeks to this phase</li>\n</ol>\n</li>\n</ol>\n<p>An ERP solution is not a one-time event, but rather a continuous process.Therefore reports and dashboards need to be reviewed on a regular basis to make sure the implementation is achieving its desired outcomes.</p>","frontmatter":{"layout":"post","title":"How to use ERP for your Organisation?","path":"/how-to-use-erp/","category":"Functional","tags":["How-To","ERP","ERPNext"],"description":"Ever wondered how to effectively run an organization? You've heard about ERP but don't know how to implement it. This article is written for you. You will learn details about ERP implementation. Applicable to Manufacturing, Agricultural, Media and Sourcing Industries","date":"2020/04/16","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACTElEQVQoz12SS0hUYRTHv1XLwE3bFu3atGoThBT0oIwWkdSiCDKICgpBKjAwVPKBhY0tajalSFJpOFmOjjONj4JRzMl0xvGRzdN51DhXHUedO/Pr3u8ygh443/nO6895iXw+j045TWbVvCYhr2aJRUKoWxtSN+y6w4hVVZVcLoeeGwyFiMViFHCE/hSUAq1kVDx/YiTXNnfY8zsAVflPJOIkk8ltv1BzRpAvluG9O8XQwhpnmicQV+0ceTLGt8W0tP+KrBtgWrwOqPNukoCakEqV5TfiVBf7yoc5Z3Ijbtgprnexv8KJON3J7XbvduLGZlZPp8+jcLx2SHKzY8loWa9scH6NSoufs6ZJDtf9RMlkefApIlsvbprkaOMEtzoWZNzon7Q+cZmsrGeZDqY0VlhazhiA1994ESc62XPTIQ0tQ3E+uJd57ozRM6Vg0vS4kkFcsiBKujjwcASH9x897gQD3hT3Oma50z7Du3FjjqJbc1x7PUNZq4/73UGsWhs11jCVnyNU94bp9aSo+Big9NU0ZW1zPBsIEUysMhNW8ETSmJ1+Xg7M831BMQDbXAnqbFH6vct89aUk2KHqccTlHg4+/kHVlzA2rZL4ahaTPUBDXwBfNC2TF+NpXL4oY3NxpkOKPDGxt9wll1FUMU5Nb4h6WwRxpR9xsh5x0UJtf5Qm+xIXzD5tOa2IY628cPgloNkZpKRxmPNNIzzqmjUqfDsapcHqxzr119jglqqNwEfR3UFKzV5W1rPSHlM2aHEEeGoLMBNZoXAdu+6G/zwLprI5TuVuAAAAAElFTkSuQmCC","aspectRatio":1.9208211143695015,"src":"/blog/static/26af36fc8e5937ffcb76184223da6329/46604/erp-introduction.png","srcSet":"/blog/static/26af36fc8e5937ffcb76184223da6329/62d80/erp-introduction.png 125w,\n/blog/static/26af36fc8e5937ffcb76184223da6329/e1953/erp-introduction.png 250w,\n/blog/static/26af36fc8e5937ffcb76184223da6329/46604/erp-introduction.png 500w,\n/blog/static/26af36fc8e5937ffcb76184223da6329/0c9c1/erp-introduction.png 655w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Source: <a href=\"https://www.youtube.com/watch?v=9oyr0mocZTg\">PyCon 2014</a> on decorators.</p>\n<h2>What is a Decorator?</h2>\n<p>This is what a decorator looks like</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@my_decorator</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">my_awesome_function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span></code></pre></div>\n<h3>Decorators wrap functions</h3>\n<ol>\n<li>Add functionality</li>\n<li>Modify behavior</li>\n<li>Perform setup/teardown</li>\n<li>Diagnostics {timing, etc}</li>\n</ol>\n<!--more-->\n<h3>What is a function</h3>\n<ul>\n<li>Everything in Python is an object, hence even <strong>functions are objects</strong></li>\n<li>Functions can also create another functions</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># this is called closure</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">make_printer</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> inner\n\np <span class=\"token operator\">=</span> make_printer<span class=\"token punctuation\">(</span><span class=\"token string\">'such wow'</span><span class=\"token punctuation\">)</span>\np<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>Decorators are also closures, they can also be created by classes</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># this is no-op decorator</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">my_decorator</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> inner\n\n\n<span class=\"token comment\"># decorator is called syntactic sugar</span>\n<span class=\"token decorator annotation punctuation\">@my_decorator</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">myfun</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span></code></pre></div>\n<ul>\n<li>Slightly complicated example</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BEFORE\"</span><span class=\"token punctuation\">)</span>\n        ret <span class=\"token operator\">=</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"AFTER\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> ret\n    <span class=\"token keyword\">return</span> inner\n\n<span class=\"token decorator annotation punctuation\">@shout</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">myfunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"such wow!\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Output that you will see after calling myfunc is</span>\n<span class=\"token comment\"># >>> myfunc()</span>\n<span class=\"token comment\"># BEFORE</span>\n<span class=\"token comment\"># such wow!</span>\n<span class=\"token comment\"># AFTER</span>\n<span class=\"token comment\"># >>></span></code></pre></div>\n<ul>\n<li>\n<p>Good decorators are versatile</p>\n<ul>\n<li>Allow to re-use functionality across multiple function</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">*args</code> and <code class=\"language-text\">**kwargs</code> together take any number of positional and/or keyword arguments</p>\n<ul>\n<li><code class=\"language-text\">*args</code> as a list</li>\n<li><code class=\"language-text\">**kwargs</code> as dictionary</li>\n</ul>\n</li>\n<li>When we run <code class=\"language-text\">myfunc.__name__</code> it returns <code class=\"language-text\">inner</code></li>\n<li>This can be fixed by adding <code class=\"language-text\">inner.__name__ == wrapped.__name__</code> before <code class=\"language-text\">return inner</code></li>\n</ul>\n<h3>wrapt library</h3>\n<ul>\n<li><a href=\"http://wrapt.readthedocs.io/en/latest/\">wrapt</a> is a nice library that can be used to create decorators</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> wrapt\n\n<span class=\"token decorator annotation punctuation\">@wrapt<span class=\"token punctuation\">.</span>decorator</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">pass_through</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">,</span> instance<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n\n<span class=\"token decorator annotation punctuation\">@pass_through</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span></code></pre></div>\n<ul>\n<li>Take a note of <code class=\"language-text\">instance</code> variable this allows you to wrap classes and objects</li>\n</ul>\n<h3>Decorators with arguments</h3>\n<p>Here is an example</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">skipIf</span><span class=\"token punctuation\">(</span>conditional<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">dec</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> conditional<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> inner\n    <span class=\"token keyword\">return</span> dec\n\n<span class=\"token decorator annotation punctuation\">@skipIf</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'I hate doge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">myfunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"very print\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Output</span>\n<span class=\"token comment\"># >>> myfunc()</span>\n<span class=\"token comment\"># I hate doge</span></code></pre></div>\n<ul>\n<li>Rewrite of similar functionality with wrapt</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> wrapt\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">with_arguments</span><span class=\"token punctuation\">(</span>myarg1<span class=\"token punctuation\">,</span> myarg2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token decorator annotation punctuation\">@wrapy<span class=\"token punctuation\">.</span>decorator</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">wrapped</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">,</span> instance<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> wrapped\n\n<span class=\"token decorator annotation punctuation\">@with_arguments</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span></code></pre></div>\n<h3>Counting function calls</h3>\n<p>Following is an example of how to count number of times a function has been called</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        inner<span class=\"token punctuation\">.</span>counter <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">return</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n    inner<span class=\"token punctuation\">.</span>counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">return</span> inner\n\n<span class=\"token decorator annotation punctuation\">@count</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">myfunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">pass</span></code></pre></div>\n<ul>\n<li>Functions are objects, we can define new variable <code class=\"language-text\">counter</code> variable</li>\n</ul>\n<h3>Timing function calls</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">def</span> <span class=\"token function\">timer</span><span class=\"token punctuation\">(</span>wrapped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        t <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        ret <span class=\"token operator\">=</span> wrapped<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> t<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> ret\n    <span class=\"token keyword\">return</span> inner\n\n<span class=\"token decorator annotation punctuation\">@timer</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">myfunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"so example!\"</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"layout":"post","title":"Summary: Decorators - A Powerful Weapon in your Python Arsenal","path":"/summary-decorators-a-powerful-weapon-in-your-python-arsenal/","category":"Technical","tags":["Summary","Python"],"description":"Decorators and Generators are one of the most appealing features of Pythons. Colton Myers gave a talk at PyCon 2014 on decorators. Following is summary of that talk  What is a Decorator? This is what a decorator looks like","date":"2018/11/04","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABrElEQVQ4y+2Sy1LbQBBF5y+wNA+N3hKy5Yck2xhJsWWJSkGqQuwFLNizSP5/ezMzFISYBVDZZnFqukeq29O3m8RxiO12hbLMkecpimKCqprC910wxiGEMHD+Jz7NX8ekrkv8/HWHtl3i9naPh4cbPD4eMR4noJT+JfIRiO9JxJELao3gOE+Vzs4sjEa2qazRwpZlmztKGWybmnvdgf6mc42OiQxTJOsB8aJGejGAcYHdboX1eq4KOEiSENfXLTabBZqmwmyWKVtyJcaMTfv9hbFptZqZnASTCnl/h/P6Bjq2KcfhR69a/4b6skSWJei6Ne7vv+J4HNAoi/SpfdZCw7DB4dCj7ze4uroEiSMfaSIRhRxJLJGmPizbgiMdpFmEOAlUEQbOhGqJm1dHUaAGeA49UN0258IghAMyn49RlJH6wcN06mOSS3TLFl8WLZpZY1hkc1BGjZj2+Mk7Zk7HORmKESxeC7o4bL9jWPboqh32VYciK0A5exHU5zNvphwEnnq6hzB0DVHomXYppy9wweFKF1LKdyH62aecLvHz8n4E8tnFfXex/wv+M78Bc9Oq5dEHvToAAAAASUVORK5CYII=","aspectRatio":1.3529411764705883,"src":"/blog/static/47b2183183bfb488491cd4a87f78fcc3/46604/Screenshot_2019-05-20_at_8.17.33_PM.png","srcSet":"/blog/static/47b2183183bfb488491cd4a87f78fcc3/62d80/Screenshot_2019-05-20_at_8.17.33_PM.png 125w,\n/blog/static/47b2183183bfb488491cd4a87f78fcc3/e1953/Screenshot_2019-05-20_at_8.17.33_PM.png 250w,\n/blog/static/47b2183183bfb488491cd4a87f78fcc3/46604/Screenshot_2019-05-20_at_8.17.33_PM.png 500w,\n/blog/static/47b2183183bfb488491cd4a87f78fcc3/24ae7/Screenshot_2019-05-20_at_8.17.33_PM.png 644w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Following is summary of two talks <a href=\"https://www.youtube.com/watch?v=JQYnFyG7A8c\">Designing Poetic APIs by Erik Rose</a> and <a href=\"https://www.youtube.com/watch?v=OSGv2VnC0go\">Transforming Code into Beautiful, Idiomatic Python by Raymond Hettinger</a>. On twitter you can find them on <a href=\"https://twitter.com/erikrose\">@erikrose</a> and <a href=\"https://twitter.com/raymondh\">@raymondh</a></p>\n<h2>Designing Poetic APIs by Erik Rose</h2>\n<p><a href=\"https://github.com/erikrose\">Eric Rose’s Github</a> has more fascinating stuff. His talk is a good investment of 37 minutes of your time. Following is summary we’ve compiled from the video:</p>\n<h3>Don’t Be An Architecture Astronaut</h3>\n<ul>\n<li>Best libraries are extracted and not invented</li>\n</ul>\n<h3>Consistency</h3>\n<ul>\n<li>User’s spend 90% of time calling other people’s APIs</li>\n<li>Sticking to commonly used conventions can help</li>\n<li>E.g. Macintosh Human Interface Design is a good example of how consistency in terms of Keyboards and Menus were extracted</li>\n<li>API Design is similar to UI Design and principles from UI Design can be applied to API Design</li>\n<li><code class=\"language-text\">get(key, default) is better than fetch(default, key)</code> because it sticks with current conventions of Python</li>\n<li>Layout all options and select the best one</li>\n<li>If you’re going to be wiered, be self consistent</li>\n<li>Red flags for Consistency: - Frequent references to your own documentation - Feel syntactically correct {Make sure novely pays off than shows off}</li>\n</ul>\n<!--more-->\n<h3>Brevity</h3>\n<ul>\n<li>Try to make common things shorts</li>\n<li>Red flags for Brevity: - Copy and Pasting same piece of code frequently - Typing something irrelevant - Long arg list, suggest lack of sane defaults</li>\n</ul>\n<h3>Composability</h3>\n<ul>\n<li>Being able to reuse code and use in different setting</li>\n<li>Aka Flexibility, Loose Coupling</li>\n<li>Red flags for Composability - Classes with lot of state - Deep inheritance heirarchy - Violations of Law of Dementer - Mocking in test {too many dependencies as means of Mocking is not a good idea} - Options {a lot of them}</li>\n</ul>\n<h3>Plain Data</h3>\n<ul>\n<li>Avoid using complex/custom data structures. Use as many as standards data structures</li>\n<li>Try to use as many build-in data structures</li>\n<li>Red flags for Plain Data - If users take your data and convert it to “something”, output should be that “something” - Instantiating objects to pass to another one - Rewriteing language-provided things</li>\n</ul>\n<h3>Groviness</h3>\n<ul>\n<li>Allow users to spend more time in groviness</li>\n<li>Avoid nonsense representations</li>\n<li>Fail shallowly</li>\n<li>Resource acquisition in initialization - {Required explicitness, error if no required argument are provided}</li>\n<li>Compelling Examples</li>\n<li>Red falgs for Groviness - Representable nonsense - Invariants that aren’t - Lack of clear starting point - Long, complicated documentation</li>\n</ul>\n<h3>Safety</h3>\n<ul>\n<li>Walls are there for preveting hurting yourself and others</li>\n<li>Red flags for Safety - Docs that say “remember to”… or “make sure you…” - Surprisingly people will blame themselves {Which points to bad design}</li>\n</ul>\n<h2>Transforming Code into Beautiful, Idiomatic Python by Raymond Hettinger</h2>\n<p><a href=\"https://www.youtube.com/watch?v=HTLu2DFOdTg&#x26;list=PLRVdut2KPAguz3xcd22i_o_onnmDKj3MA\">RDH Talks</a> is interesting list. His talk is another interesting one. Here is the summary</p>\n<h3>When you see this, do that instead</h3>\n<ul>\n<li>Replace traditional index manipulation with Python’s core looping idioms</li>\n<li>Learn advanced techniques with for-else clause and two arguments of iter()</li>\n<li>Improve your craftsmanship and aim for clean, fast, idiomatic Python code</li>\n<li>\n<p>Looping over a range of numbers</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> i<span class=\"token operator\">**</span><span class=\"token number\">2</span>\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> i<span class=\"token operator\">**</span><span class=\"token number\">2</span>\n\n<span class=\"token comment\"># Faster way</span>\n<span class=\"token comment\"># Ugly way, in Python 3K this is renamed to xrange</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">xrange</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> i<span class=\"token operator\">**</span><span class=\"token number\">2</span></code></pre></div>\n</li>\n<li>\n<p>Looping over a collection</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> colors<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> color</code></pre></div>\n</li>\n<li>\n<p>Looping backwards</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># This is faster and beautiful</span>\n<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> <span class=\"token builtin\">reversed</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> color</code></pre></div>\n</li>\n<li>\n<p>Looping over collection and indicies</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> i<span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> color <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> i<span class=\"token punctuation\">,</span> color</code></pre></div>\n</li>\n<li>\n<p>Looping over two collections at once</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'raymond'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rachel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'matthew'</span><span class=\"token punctuation\">]</span>\ncolors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span>\n\nn <span class=\"token operator\">=</span> <span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>names<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> names<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"->\"</span><span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token comment\"># But takes more memory</span>\n<span class=\"token keyword\">for</span> name<span class=\"token punctuation\">,</span> color <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>names<span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> name<span class=\"token punctuation\">,</span> <span class=\"token string\">\"->\"</span><span class=\"token punctuation\">,</span> color\n\n<span class=\"token comment\"># Idiomatic way</span>\n<span class=\"token comment\"># Consumes less memory</span>\n<span class=\"token keyword\">for</span> name<span class=\"token punctuation\">,</span> color <span class=\"token keyword\">in</span> izip<span class=\"token punctuation\">(</span>names<span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> name<span class=\"token punctuation\">,</span> <span class=\"token string\">\"->\"</span><span class=\"token punctuation\">,</span> color</code></pre></div>\n</li>\n<li>\n<p>Looping over sorted order</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> color\n\n<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">,</span> reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span> color</code></pre></div>\n</li>\n<li>\n<p>Custom sort order</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">compare_length</span><span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">,</span> c2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n  <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n\n<span class=\"token keyword\">print</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">,</span> <span class=\"token builtin\">cmp</span><span class=\"token operator\">=</span>compare_length<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">print</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p>Call a function until a sentinal value. Note: <a href=\"https://docs.python.org/2/library/functools.html\">Partial</a> take a function with one or more arguments and returns a function with fewer argument.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">blocks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">while</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">:</span>\n  block <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> block <span class=\"token operator\">==</span> <span class=\"token string\">''</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">break</span>\n  blocks<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Better way</span>\nblocks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># iter function takes two arguments</span>\n<span class=\"token comment\"># 1. Function you call over and over again</span>\n<span class=\"token comment\"># 2. Sentinel value</span>\n<span class=\"token keyword\">for</span> block <span class=\"token keyword\">in</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span>partial<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  blocks<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p>Distinguish multiple exit point in loops</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>seq<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  found <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n  <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> value <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>seq<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">if</span> value <span class=\"token operator\">==</span> target<span class=\"token punctuation\">:</span>\n          found <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n          <span class=\"token keyword\">break</span>\n  <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> found<span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n  <span class=\"token keyword\">return</span> i\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>seq<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> value <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>seq<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">if</span> value <span class=\"token operator\">==</span> target<span class=\"token punctuation\">:</span>\n          found <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n          <span class=\"token keyword\">break</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n  <span class=\"token keyword\">return</span> i</code></pre></div>\n</li>\n</ul>\n<h3>Dictionary Skills</h3>\n<ul>\n<li>Mastering dictionaries is fundamental Python skill</li>\n<li>They are fundamental tool for expressing relationships, linking, counting and grouping</li>\n<li>\n<p>Looping over dictionary keys</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'matthew'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rachel'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'raymond'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">}</span>\n\n  \t<span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">:</span>\n  \t\t<span class=\"token keyword\">print</span> k\n  \t```</code></pre></div>\n</li>\n<li><strong>DONT mutate while iterating over things</strong></li>\n<li>\n<p>Looping over dictionary keys and values</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">  \t<span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span> v <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\t<span class=\"token keyword\">print</span> k<span class=\"token punctuation\">,</span> <span class=\"token string\">\"->\"</span><span class=\"token punctuation\">,</span> v\n\n  \t<span class=\"token comment\"># Better way</span>\n  \t<span class=\"token keyword\">for</span> k<span class=\"token punctuation\">,</span>v <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">.</span>iteritems<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\t<span class=\"token keyword\">print</span> k<span class=\"token punctuation\">,</span> <span class=\"token string\">\"->\"</span><span class=\"token punctuation\">,</span> v\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Construct a dictionary in pairs</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'matthew'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rachel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'raymond'</span><span class=\"token punctuation\">]</span>\ncolors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'raymond'</span><span class=\"token punctuation\">]</span>\n\n  \td <span class=\"token operator\">=</span> <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>izip<span class=\"token punctuation\">(</span>names<span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  \td <span class=\"token operator\">=</span> <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>names<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Counting with dictionaries</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">]</span>\n\n  \td <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \t<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> colors<span class=\"token punctuation\">:</span>\n  \t\t<span class=\"token keyword\">if</span> color <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">:</span>\n  \t\t\td<span class=\"token punctuation\">[</span>color<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  \t\td<span class=\"token punctuation\">[</span>color<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n  \t<span class=\"token comment\"># Better way</span>\n  \td <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \t<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> colors<span class=\"token punctuation\">:</span>\n  \t\td<span class=\"token punctuation\">[</span>color<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n\n  \t<span class=\"token comment\"># Idiomatic way</span>\n  \t<span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> defaultdict\n  \td <span class=\"token operator\">=</span> defaultdict<span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token keyword\">for</span> color <span class=\"token keyword\">in</span> colors<span class=\"token punctuation\">:</span>\n  \t\td<span class=\"token punctuation\">[</span>color<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Grouping with dictionaries</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">names <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'raymond'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rachel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'matthew'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'roger'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'betty'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'melissa'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'judith'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'charlie'</span><span class=\"token punctuation\">]</span>\nd <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> names<span class=\"token punctuation\">:</span>\nkey <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> key <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> d<span class=\"token punctuation\">:</span>\nd<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\nd<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># Better way</span>\n  \td <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \t<span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> names<span class=\"token punctuation\">:</span>\n  \t\tkey <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n  \t\td<span class=\"token punctuation\">.</span>setdefault<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># Better way</span>\n  \td <span class=\"token operator\">=</span> defaultdict<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">)</span>\n  \t<span class=\"token keyword\">for</span> name <span class=\"token keyword\">in</span> names<span class=\"token punctuation\">:</span>\n  \t\tkey <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n  \t\td<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Is a dictionary popitem() atomic?</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'matthew'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rachel'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'raymond'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">}</span>\n\n  \t<span class=\"token comment\"># Pop item is atomic so it can be used between threads</span>\n  \t<span class=\"token keyword\">while</span> d<span class=\"token punctuation\">:</span>\n  \t\tkey<span class=\"token punctuation\">,</span> value <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>popitem<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  \t\t<span class=\"token keyword\">print</span> key<span class=\"token punctuation\">,</span> <span class=\"token string\">\"->\"</span><span class=\"token punctuation\">,</span> value\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Linking dictionaires (Or chaining them)</p>\n<div class=\"gatsby-highlight\" data-language=\"python# some dictionary\"><pre class=\"language-python# some dictionary\"><code class=\"language-python# some dictionary\">default = {}\nd = defaults.copy()\nd.update(os.environ)\nd.update(command_line_args)\n\n  \td.ChainMap(command_line_args, os.environ, defaults)\n  \t```</code></pre></div>\n</li>\n</ul>\n<h3>Improving Clarity</h3>\n<ul>\n<li>Positional arguments and indicies are nice</li>\n<li>Keywords and names are better</li>\n<li>The first way is convinient for the computers</li>\n<li>The second corresponds to how human’s think</li>\n<li>\n<p>Clarify function calls with keyword arguments (Good activity for someone who doesn’t know the codebase)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">twitter_search<span class=\"token punctuation\">(</span><span class=\"token string\">'@obama'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># More readable</span>\n  \ttwitter_search<span class=\"token punctuation\">(</span><span class=\"token string\">'@obama'</span><span class=\"token punctuation\">,</span> retweets<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> numtweets<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> popular<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Clarify multiple return values with named tuples</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">doctest<span class=\"token punctuation\">.</span>testmod<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># This is more readable and result of NamedTuple</span>\n  \tdoctest<span class=\"token punctuation\">.</span>testmod<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  \tTestResults<span class=\"token punctuation\">(</span>failed<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> attempted<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># How named tuples are used</span>\n  \tTestResults <span class=\"token operator\">=</span> namedtuple<span class=\"token punctuation\">(</span><span class=\"token string\">'TestResult'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'failed'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'attempted'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Unpacking Sequences</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">p <span class=\"token operator\">=</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> d\nfname <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\nlname <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nage <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\nemail <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n\n  \t\tfname<span class=\"token punctuation\">,</span> lname<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> email <span class=\"token operator\">=</span> p\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Update multiple state variables</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\nx <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\ny <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">print</span> x\nt <span class=\"token operator\">=</span> y\ny <span class=\"token operator\">=</span> x <span class=\"token operator\">+</span> y\nx <span class=\"token operator\">=</span> t\n\n  \t<span class=\"token comment\"># Better version</span>\n  \t<span class=\"token keyword\">def</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\tx<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span>\n  \t\t<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\t\t<span class=\"token keyword\">print</span> x\n  \t\t\tx<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">+</span>y\n  \t```</code></pre></div>\n</li>\n</ul>\n<h2>Tuple packing and unpacking</h2>\n<ul>\n<li>Don’t under-estimate the advantages of updating state variables at the same time</li>\n<li>It eliminates an entire class of errors due to out-of-order updates</li>\n<li>It allows high level thinking: “chunking”</li>\n</ul>\n<h2>Decorators and Context Managers</h2>\n<ul>\n<li>Helps separate business logic and administrative logic</li>\n<li>Clean, beautiful tools for factoring code and imprving code reuse</li>\n<li>Good naming is essential</li>\n<li>Remember the Spiderman rule: With great power comes great responsibility</li>\n<li>\n<p>Using decorators to factor-out administrative logic</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">web_lookup</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> saved<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">if</span> url <span class=\"token keyword\">in</span> saved<span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">return</span> saved<span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span>\npage <span class=\"token operator\">=</span> urllib<span class=\"token punctuation\">.</span>urlopen<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nsaved<span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> page\n<span class=\"token keyword\">return</span> page\n\n  \t<span class=\"token comment\"># Better way</span>\n  \t<span class=\"token decorator annotation punctuation\">@cache</span>\n  \t<span class=\"token keyword\">def</span> <span class=\"token function\">web_lookup</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\t<span class=\"token keyword\">return</span> urllib<span class=\"token punctuation\">.</span>urlopen<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># Logic for decorator</span>\n  \t<span class=\"token keyword\">def</span> <span class=\"token function\">cache</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\tsaved <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \t\t<span class=\"token decorator annotation punctuation\">@wraps</span><span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span>\n  \t\t<span class=\"token keyword\">def</span> <span class=\"token function\">newfunc</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  \t\t\t<span class=\"token keyword\">if</span> args <span class=\"token keyword\">in</span> saved<span class=\"token punctuation\">:</span>\n  \t\t\t\t<span class=\"token keyword\">return</span> newfunc<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span>\n  \t\t\tresult <span class=\"token operator\">=</span> func<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span>\n  \t\t\tsaved<span class=\"token punctuation\">[</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> result\n  \t\t\t<span class=\"token keyword\">return</span> result\n  \t\t<span class=\"token keyword\">return</span> newfunc\n  \t```</code></pre></div>\n</li>\n<li>\n<p>How to open and close files</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data.txt'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\ndata <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  \t<span class=\"token comment\"># Better way, closes file automatically</span>\n  \t<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data.txt'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n  \t\tdata <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  \t```</code></pre></div>\n</li>\n<li>\n<p>Factor-out temporary context</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n  os<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span><span class=\"token string\">'somefile.tmp'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> OSError<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">pass</span>\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">with</span> ignored<span class=\"token punctuation\">(</span>OSError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  os<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span><span class=\"token string\">'somefile.tmp'</span><span class=\"token punctuation\">)</span>\n```</code></pre></div>\n</li>\n</ul>\n<h3>Python Outsourcing</h3>\n<p>Have a startup idea you’d like to see come to life? Have a legacy codebase that needs upgradation? Have a deadline and want to get job done on budget? Look no further, <a href=\"mailto:customercare@fafadiatech.com\">Hire Fafadia Tech</a></p>\n<p>Why select Fafadia Tech?</p>\n<ul>\n<li>Rich experience working as <strong>remote team for 12+ Clients</strong></li>\n<li>Clear <strong>communication</strong> &#x26; Excellent <strong>work ethic</strong></li>\n<li>Capability to convert <strong>vauge requirements to working product</strong></li>\n<li>Ability to solve <strong>complex problems</strong></li>\n</ul>","frontmatter":{"layout":"post","title":"Summary: How To Make Your Code More Pythonic?","path":"/summary-how-to-make-your-code-more-pythonic/","category":"Technical","tags":["Summary","Python"],"description":"Just like any other form of art, Programming can always be improved. In daily grind to deliver working software we might forget details and `JUST DO IT`. In our quest to improve our python coding we've come across couple of good Python videos that will help you take you code to next level.","date":"2018/11/04","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACEElEQVQoz42SWWsiQRSFO4rBFZRRW2Pcd030wX3DDUVFjYrog/4AQcV/EoaMawaHZJg/2S91pqqEJAwTyMOhLt3V537n3hbOx0e8nPd4PR/w+9dPej7j/HzCcbfF6bDH6XjAfnfAdrfH8fjMtd8f8fS0xXa7w9OPix4fv+Pl9Q8El0uE12eBwynCdnuLmxsbvhmNUKpUUCqVkMvlEAThSwqFQhAcDhfsdidE0QKzyQSNRgO1Wg2tVgudTsfrrxrGYjEIfr8fHrebu3u93k8vi6KIfr+PXq+H4XCI8XiMTqfDa4fD8W4YiUQQCATg8/lgtVp5TIVCwfXR0EjHUK/XkUqlUC6Xkc1mcX9/j0qlQhPa3w2j0SiYfD5K6vHAYDBwU6aPhk6nE6vVCqVSCdPplJP9m4I1EAKBIELBEILBINw0us1m46RMZrMZKpXyjZCZMcJ8Po9cLodkMolGo4F2uw2LxYK7u7sLISsYttlkxi3dNPtYr9fj+vr6rTsjZvG63S7m8zmPPRqN0Gq1MBgMUK1WL1umFISakfV6TR4eBqRSrpAyFZ0Xmc1mhJoQOmNSq9VIOBwmNAF/R0n5czpLEo/HCW1KKBw7Bf6vsY6sC/0IiUSCazKZgBqhUChwskwmw8XqdDrNF8M2XSwWIZPJ+C6Eq6sriZr+V81mU1oul9Jms5FoTGmxWEiU5tP7dCnSX45+TCHeFQhpAAAAAElFTkSuQmCC","aspectRatio":1.763157894736842,"src":"/blog/static/d55523d5d736a41a2dca5ce259fc1f1c/46604/04-python-programming-tips-artwork-summary.png","srcSet":"/blog/static/d55523d5d736a41a2dca5ce259fc1f1c/62d80/04-python-programming-tips-artwork-summary.png 125w,\n/blog/static/d55523d5d736a41a2dca5ce259fc1f1c/e1953/04-python-programming-tips-artwork-summary.png 250w,\n/blog/static/d55523d5d736a41a2dca5ce259fc1f1c/46604/04-python-programming-tips-artwork-summary.png 500w,\n/blog/static/d55523d5d736a41a2dca5ce259fc1f1c/30492/04-python-programming-tips-artwork-summary.png 670w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p><a href=\"https://docs.djangoproject.com/en/1.11/ref/models/querysets/\">Queryset</a> are commonly used with Django’s ORM. <a href=\"https://www.youtube.com/watch?v=5y7vU52jOiQ\">I Didn’t Know Querysets Could do That by Charlie Guo</a> is a nice Django Con US 2016 talk that delves deeper into useage of QuerySet.</p>\n<p>Following is summary notes of the talk</p>\n<h2>Basic Queryset method</h2>\n<ul>\n<li>\n<p>Methods that return QuerySet</p>\n<ul>\n<li>all</li>\n<li>filter</li>\n<li>exclude</li>\n<li>oder_by</li>\n<li>reverse</li>\n<li>distinct</li>\n<li>annotate</li>\n</ul>\n</li>\n<li>\n<p>Methods that return model instance</p>\n<ul>\n<li>get</li>\n<li>first</li>\n<li>last</li>\n<li>latest</li>\n<li>earliest</li>\n<li>exists</li>\n<li>count</li>\n<li>aggregate</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">annotate</code> and <code class=\"language-text\">aggregate</code> both expect a expression</p>\n<ul>\n<li>annotate will compute that for each item in the set. Returns each item with new property</li>\n<li>aggregate will return a dictionary with that value for entire set</li>\n<li>Django will create property if not provided</li>\n<li>Tend to be faster than for loops</li>\n</ul>\n</li>\n</ul>\n<!--more-->\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">products <span class=\"token operator\">=</span> products<span class=\"token punctuation\">.</span>annotate<span class=\"token punctuation\">(</span>Count<span class=\"token punctuation\">(</span><span class=\"token string\">'item'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nproducts<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>item__count\n\ngrand_total <span class=\"token operator\">=</span> orders<span class=\"token punctuation\">.</span>aggregate<span class=\"token punctuation\">(</span>Sum<span class=\"token punctuation\">(</span><span class=\"token string\">'total'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ngrand_total<span class=\"token punctuation\">[</span><span class=\"token string\">'total__sum'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h2>Unbasis</h2>\n<ul>\n<li><code class=\"language-text\">select_related</code>: Allows getting related objects using single query via JOINs.</li>\n<li><code class=\"language-text\">prefetch_related</code>: Similar to <code class=\"language-text\">select_related</code> will do JOINs in Python</li>\n<li><code class=\"language-text\">defer</code>: Allows to fetch all except specified query</li>\n<li><code class=\"language-text\">only</code>: Allows to fetch selected fields only</li>\n<li><code class=\"language-text\">values</code>: Return dictionaries rather than instances of models</li>\n<li><code class=\"language-text\">values_list</code>: Returns tuples that can be iterated over</li>\n<li><code class=\"language-text\">in_bulk</code>: You pass it list of IDs and returns a dictionary of ID to Model Instance</li>\n<li><code class=\"language-text\">bulk_create</code>: Does the job of creation/insertions in just a single query</li>\n<li>When you access FK relation django issues a DB query</li>\n</ul>\n<h2>Conjunction Dysfunctional</h2>\n<p>When specifying attributes in filter method of QuerySet it generates SQL query with underlying AND construct</p>\n<h2>How to handle OR queries:</h2>\n<ul>\n<li>QuerySet is different from a list. On list you can’t filter on it etc.</li>\n<li>\n<p><code class=\"language-text\">Q</code> E.g. find all users with certain name keywords</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">users <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>\nQ<span class=\"token punctuation\">(</span>first_name__icontains<span class=\"token operator\">=</span><span class=\"token string\">'kelly'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\nQ<span class=\"token punctuation\">(</span>last_name__icontains<span class=\"token operator\">=</span><span class=\"token string\">'kelly'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\nQ<span class=\"token punctuation\">(</span>email__icontains<span class=\"token operator\">=</span><span class=\"token string\">'kelly'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'last_name'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>You can create as complex of an expression as you want with bitwise OR and NOT</li>\n</ul>\n<h2>Query Arithmetic</h2>\n<p><code class=\"language-text\">F</code>, while <code class=\"language-text\">Q</code> represented query contraint. F represents an implicit refrence in DB calls</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">item_sum <span class=\"token operator\">=</span> Sum<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">(</span><span class=\"token string\">'unit_price'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> F<span class=\"token punctuation\">(</span><span class=\"token string\">'quantity'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ntotal <span class=\"token operator\">=</span> items<span class=\"token punctuation\">.</span>aggregate<span class=\"token punctuation\">(</span>amount<span class=\"token operator\">=</span>item_sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'amount'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2><code class=\"language-text\">F</code> expressions</h2>\n<p>They are examples of Django’s <strong>Query Expressions</strong>. This includes:</p>\n<ul>\n<li>Avg</li>\n<li>Count</li>\n<li>Max</li>\n<li>StdDev</li>\n<li>Sum</li>\n<li>Variance</li>\n<li>Coalesce</li>\n<li>Concat</li>\n<li>Greatest</li>\n<li>Least</li>\n<li>Length</li>\n<li>Lower</li>\n<li>Now</li>\n<li>Substr</li>\n<li>Upper</li>\n</ul>\n<h2>Query expressions also include:</h2>\n<ul>\n<li>F</li>\n<li>Aggregate</li>\n<li>Func</li>\n<li>Value</li>\n<li>ExpressionWrapper</li>\n<li>Conditional</li>\n</ul>\n<h2>Writing custom query expressions, you have to define following methods:</h2>\n<ul>\n<li>as_sql</li>\n<li>as_<vendorname></li>\n<li>get_lookup</li>\n<li>get_transform</li>\n<li>output_field</li>\n</ul>\n<h2>Writing RAW SQLs</h2>\n<p>If you’re writing RAW SQL you should probably rethink what you’re about to do</p>\n<ul>\n<li>\n<p>EXTRA</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">Order<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>extra<span class=\"token punctuation\">(</span>\nselect<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"is_recent\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ordered_at > 2016-01-01\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p>Other options</p>\n<ul>\n<li>select</li>\n<li>where</li>\n<li>tables</li>\n<li>order_by</li>\n<li>select_params</li>\n<li>params</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">Order<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>raw<span class=\"token punctuation\">(</span><span class=\"token triple-quoted-string string\">\"\"\"\n  SELECT * FROM ...\n\"\"\"</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"layout":"post","title":"Summary: Django - I did not know Queryset could do that","path":"/summary-django-i-didnt-know-queryset-could-do-that/","category":"Technical","tags":["Summary","Python","Django"],"description":"Queryset are commonly used with Django's ORM. I Didn't Know Querysets Could do That by Charlie Guo is a nice Django Con US 2016 talk that delves deeper into useage of QuerySet.  Following is summary notes of the talk","date":"2018/01/29","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAAEL0lEQVQ4y3VUe0xbZRS/pTzGMzHbioM9Oky0bIomWyYxupnMv6aOZAHnZCDR/eHUxGhITJbIfCwal6CEScJrPDqQBNx4tKD0ARdoS9sV6L0X1se97S19twNkhGdLe/xuB4aw7UtOzvlOfvd3v/P9zvkw7CkLAJ6Wxv4NWhQejxOsjD20vLIKa2tr558A/XxnQl5e2az44qfqoe/q/hroJOYyd5DG8fn8I8gfRHbMMKknSJIAiUQSNpvN0CoWX0P5fQKB4CjyKTFCj8cBJosVaJsNGYt44OA24f6sI6lJyckiUf7ZBJTaO2O2akwmEwwPKdcsiFCpUFzlsMdezstMSNpz9DGhm95UKhVhHMejLGtfvV5RcXpHATxkgu0NQc3o5xeXwOHyAsM6gZoxFXF52ZtY3P84p9e/ed9g2FSpVFGGYVbKyso40P5fNbA379wnZwSiExfOVzS/UPJbT3o7Tn3ZhlO3xUPErSbZRG19v+Hk+zemsnLfufiWQHSy8EoDLsQcLAsMTQNttQJBEFGJRJqLCNM7ZNbu5t4RqGrqWK/rHIAereXS7vu/O+bLEvcbH9W090QrG9ojLRJ8HeseM2qlOpOuTzNj6BqeGLlafk2EsAcW58yDHrcDSJIKr6wsg8/nK4mVbWYS9SQVz8XL88acoM+0TlEzgKqLzs/NISWLRlMx7I00DHspDStuS0l/5XQiwuZPUYSOpCiQ9PWFOEX9wYfFHInN4eTb3R7ubrHgQlDIOh2rSqUSZDJZhKbpKFZzzzj7S2OX8/vqZk9lm5T5x7IYU9njD/QzDA3jGvWqDflAIPARl1fqyIT2AZzPxYGFRaHT7V6anDBE9DptyMHaQ1jAxyC1HoDdMQtenz+C2iUbYXNkStwSWHgEzKwbrEhRXKX9dPcdUiQpnDYz4PI/BJp1gXHaDJjTZY+glokoFHJApa2VlpZeRNjc1jHrpere8d9/aOqtuY1bKurkxPGzX8szz33zx6snPvzq+JnPbohu9lPZdzT2coS7eb2huxbhvsWcHl9Yr9OFxkZHI0jplaqqqvxdB3l+OxBLKXkLUv5Wa+dqPVK+T2cpeALHxkoNgNcfhCmChODcwqGtSeG//V5RWtbhozkoRiKQcfP+adzltKH2IjeXlpbA63F/wGEvX/n8uczsw8LYuHbgZFvHCNn+57CxQyw3tLQO6vbt+GtKfHz8oe2NN+CTGwkCpFJpiBvBjY2N2AkLCwv3ICfEnrWKL5dsh4lxcXF5GI93AMWvaXT6BywaBO24JozGFGpra3/kZhytF5HPjn1hVCt5Ft0wb1ot540P9vDwUVUsX1Dw+GXKyMhIQi9OMgpT1ZpxNW2zc10Rvm+YhK679z7mMKdOvZ62NfcY1jBmxxpGtwzFjerZZ76JjSP0361aF9QNmcP1uBWaVey7u7H/ATFHhPOfXrNgAAAAAElFTkSuQmCC","aspectRatio":1.144901610017889,"src":"/blog/static/68c970e59dc437de74928c563897677a/46604/database-schema-1895779_640.png","srcSet":"/blog/static/68c970e59dc437de74928c563897677a/62d80/database-schema-1895779_640.png 125w,\n/blog/static/68c970e59dc437de74928c563897677a/e1953/database-schema-1895779_640.png 250w,\n/blog/static/68c970e59dc437de74928c563897677a/46604/database-schema-1895779_640.png 500w,\n/blog/static/68c970e59dc437de74928c563897677a/f3dec/database-schema-1895779_640.png 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>What are <a href=\"https://www.quora.com/What-are-the-BHAV-copy-reports-of-NSE\">Bhav Copies?</a></p>\n<!--more-->\n<p>For complete code <a href=\"https://raw.githubusercontent.com/fafadiatech/ft-learnings/master/python/click/download_bhavcopy.py\">review this python script</a>, the heart of the code is listed as below:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@click<span class=\"token punctuation\">.</span>command</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token decorator annotation punctuation\">@click<span class=\"token punctuation\">.</span>argument</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"exchange\"</span><span class=\"token punctuation\">,</span>\n    default<span class=\"token operator\">=</span><span class=\"token string\">\"nse\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token decorator annotation punctuation\">@click<span class=\"token punctuation\">.</span>option</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"--for_date\"</span><span class=\"token punctuation\">,</span>\n    default<span class=\"token operator\">=</span>yesterday<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">\"Date for which to download bhavcopy DD/MM/YYYY format\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token decorator annotation punctuation\">@click<span class=\"token punctuation\">.</span>option</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"--for_past_days\"</span><span class=\"token punctuation\">,</span>\n    default<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">\"Number of calendar days for which we need to fetch data {E.g. past 15 days from today}\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> for_date<span class=\"token punctuation\">,</span> for_past_days<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    download_bhavcopy is utility that will download daily bhav copies\n    from NSE and BSE\n\n    Examples:\n    python download_bhavcopy.py bse --for_date 06/12/2017\n\n    python download_bhavcopy.py bse --for_past_days 15\n    \"\"\"</span>\n    click<span class=\"token punctuation\">.</span>echo<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"downloading bhavcopy </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>exchange<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># We need to fetch data for past X days</span>\n    <span class=\"token keyword\">if</span> for_past_days <span class=\"token operator\">!=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>for_past_days<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            ts <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            ts <span class=\"token operator\">=</span> ts<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">\"%d/%m/%Y\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> exchange <span class=\"token operator\">==</span> <span class=\"token string\">\"nse\"</span><span class=\"token punctuation\">:</span>\n                download_nse_bhavcopy<span class=\"token punctuation\">(</span>ts<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                download_bse_bhavcopy<span class=\"token punctuation\">(</span>ts<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> exchange <span class=\"token operator\">==</span> <span class=\"token string\">\"nse\"</span><span class=\"token punctuation\">:</span>\n            download_nse_bhavcopy<span class=\"token punctuation\">(</span>for_date<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            download_bse_bhavcopy<span class=\"token punctuation\">(</span>for_date<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Key things to note:</p>\n<ol>\n<li>You can take any python function and decorate it with <code class=\"language-text\">@click.command</code> to make it behave like a command line interface. What this means is you get <code class=\"language-text\">--help</code> flag out of the box.</li>\n<li>\n<p>Click has two key concepts around parameters going into <code class=\"language-text\">main</code> function here:</p>\n<ol>\n<li>Argument: These are mandatory. Look at how we’ve made <code class=\"language-text\">exchange</code> a mandatory parameter</li>\n<li>Options: These are parameters/switch that can or cannot be present. Both <code class=\"language-text\">for_date</code> and <code class=\"language-text\">for_days</code> are example of optional arguments</li>\n</ol>\n</li>\n<li>The document string that you write below the function that you’ve decorated using <code class=\"language-text\">@click.command</code> will be printed when you invoke the command with <code class=\"language-text\">--help</code> flag. We believe this is one of the most awesome features</li>\n<li>With optional arguments you can specify <code class=\"language-text\">help</code> which also produces nicer output</li>\n<li>You can also use <code class=\"language-text\">default</code> argument in <code class=\"language-text\">@click.option</code> decorator to specify default values. This is also used to infer data-type of argument. Thus we don’t need to do all parsing and validation.</li>\n<li>Click also has <a href=\"http://click.pocoo.org/6/commands/\">Sub Commands</a> this make grouping and implementing sub-commands real easy</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">(click_demo) Sidharths-MacBook-Pro-3:click sidharthshah$ python download_bhavcopy.py --help\nUsage: download_bhavcopy.py [OPTIONS] [EXCHANGE]\n\n  download_bhavcopy is utility that will download daily bhav copies from NSE\n  and BSE\n\n  Examples: python download_bhavcopy.py bse --for_date 06/12/2017\n\n  python download_bhavcopy.py bse --for_past_days 15\n\nOptions:\n  --for_date TEXT          Date for which to download bhavcopy DD/MM/YYYY\n                           format\n  --for_past_days INTEGER  Number of calendar days for which we need to fetch\n                           data {E.g. past 15 days from today}\n  --help                   Show this message and exit.</code></pre></div>\n<p>For reference you can look at <a href=\"https://www.youtube.com/watch?v=kNke39OZ2k0\">Awesome Screencast on YouTube</a> and <a href=\"http://click.pocoo.org/6/commands/\">Official Documentation</a></p>","frontmatter":{"layout":"post","title":"Download NSE & BSE Bhavcopies in Python using Click","path":"/download-nse-bse-bhavcopies-in-python-using-click/","category":"Technical","tags":["Python"],"description":"One of the key selling points of Python is ability to create command line script that have ability to automate some mundane tasks. Bhav Copies are equivalent to data feeds we get from exchanges. We wanted to demonstrate power of simple scripts, so we chose","date":"2018/01/16","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAQAF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHIRy0xf//EABUQAQEAAAAAAAAAAAAAAAAAABAB/9oACAEBAAEFAmv/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQQREhMf/aAAgBAQABPyG4ZoyzHD//2gAMAwEAAgADAAAAELAP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EGI//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxB4VH//xAAdEAACAgEFAAAAAAAAAAAAAAAAAREhcTFBUWHB/9oACAEBAAE/ENI8MS2yhryWD0Qabo//2Q==","aspectRatio":1.5023474178403755,"src":"/blog/static/f46f885382cf2a6fbdbdd5e9a43fa0df/0f3a1/business-1730089_640.jpg","srcSet":"/blog/static/f46f885382cf2a6fbdbdd5e9a43fa0df/1ada3/business-1730089_640.jpg 125w,\n/blog/static/f46f885382cf2a6fbdbdd5e9a43fa0df/8f7df/business-1730089_640.jpg 250w,\n/blog/static/f46f885382cf2a6fbdbdd5e9a43fa0df/0f3a1/business-1730089_640.jpg 500w,\n/blog/static/f46f885382cf2a6fbdbdd5e9a43fa0df/f422e/business-1730089_640.jpg 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p><a href=\"https://www.safaribooksonline.com/library/view/effective-python-59/9780134034416/\">Effective Python</a> is one the good books that is thought of to be Python 202. Once you’ve got the hang of basics, you’d like to look at ways to improve the code. This is exactly what this books provides.</p>\n<p><a href=\"https://twitter.com/haxor?lang=en\">Bret Saltkin</a> gives a nice talk about this during PyCon 2015, titled <a href=\"https://www.youtube.com/watch?v=WjJUPxKB164\">How to Be More Effective with Functions</a>. Following is summary of that talk</p>\n<h2>Agenda</h2>\n<ol>\n<li>Reduce visual noise with variable positional arguments</li>\n<li>Provide optional behaviour with keyword arguments</li>\n<li>Enforce clarity with keyword-only argument</li>\n<li>Consider generators instead of returning lists</li>\n<li>Be defensive when iterating over arguments</li>\n</ol>\n<!--more-->\n<h2>Reduce visual noise with variable positional arguments</h2>\n<p>This helps reduce visual clutter. Lets look at how the following snippet can be refactored</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> values<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        out <span class=\"token operator\">=</span> <span class=\"token string\">', '</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> values<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%s: %s'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nlog<span class=\"token punctuation\">(</span><span class=\"token string\">\"My numbers are\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nlog<span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi there\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Using positional argument we can do it as</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> values<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        out <span class=\"token operator\">=</span> <span class=\"token string\">', '</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> values<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%s: %s'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nlog<span class=\"token punctuation\">(</span><span class=\"token string\">\"My numbers are\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\nlog<span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi there\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Alternative syntax to achieve same</span>\n<span class=\"token comment\"># thing</span>\nnums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nlog<span class=\"token punctuation\">(</span><span class=\"token string\">\"My numbers are\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>nums<span class=\"token punctuation\">)</span></code></pre></div>\n<p>This technique will not work with generators.</p>\n<p>In summary:</p>\n<ol>\n<li>Good for removing noise</li>\n<li>Make your code more readable</li>\n<li>Not for all APIs that accept sequence</li>\n<li>Convenience for programmer</li>\n</ol>\n<h2>Provide optional behaviour with keyword arguments</h2>\n<p>Lets say we have following function</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">flow_rate</span><span class=\"token punctuation\">(</span>weight_diff<span class=\"token punctuation\">,</span> time_diff<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> weight_diff <span class=\"token operator\">/</span> time_diff</code></pre></div>\n<p>Now lets say we want to add extra functionality without affecting existing function calls we can do so by refactoring</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">flow_rate</span><span class=\"token punctuation\">(</span>weight_diff<span class=\"token punctuation\">,</span> time_diff<span class=\"token punctuation\">,</span> period<span class=\"token operator\">=</span><span class=\"token number\">3600</span><span class=\"token punctuation\">,</span> units_per_kg<span class=\"token operator\">=</span><span class=\"token number\">2.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>Note how <code class=\"language-text\">period</code> and <code class=\"language-text\">units_per_kg</code> are optional arguments that can be used for calculations</p>\n<p>In summary:</p>\n<ol>\n<li>Omit arguments you don’t need</li>\n<li>New usage can access new functionality</li>\n<li>No need to update existing callers</li>\n</ol>\n<h2>Enforce clarity with keyword-only argument</h2>\n<p>In the functions definition above, you’re not really sure which one comes first, and which are optional {while making the call}. To solve this problem</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">flow_rate</span><span class=\"token punctuation\">(</span>weight_diff<span class=\"token punctuation\">,</span> time_diff<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> period<span class=\"token operator\">=</span><span class=\"token number\">3600</span><span class=\"token punctuation\">,</span> units_per_kg<span class=\"token operator\">=</span><span class=\"token number\">2.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>weight_diff <span class=\"token operator\">*</span> units_per_kg<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>time_diff <span class=\"token operator\">*</span> period<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Note the <code class=\"language-text\">*</code>, {BTW this is support for Python 3+}. What this implies is anything after <code class=\"language-text\">*</code> will be specified as keyword argument.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">flow <span class=\"token operator\">=</span> flow_rate<span class=\"token punctuation\">(</span>weight_diff<span class=\"token punctuation\">,</span> time_diff<span class=\"token punctuation\">,</span> period<span class=\"token operator\">=</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> units_per_kg<span class=\"token operator\">=</span><span class=\"token number\">35.274</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This is how the function will be getting executed, Optional arguments must use keywords</p>\n<p>In summary:</p>\n<ol>\n<li>Require clarity for optional arguments</li>\n<li>Critically important for arguments of the same type {boolean flags, numbers}</li>\n<li>Best way to extend *args functions</li>\n</ol>\n<h2>Consider generators instead of returning lists</h2>\n<p>The default way to implement things should be generators as opposed to list. To understand lets take a look at following snippet:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">load_cities_list</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    out <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> handle<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> handle<span class=\"token punctuation\">:</span>\n            city<span class=\"token punctuation\">,</span> count <span class=\"token operator\">=</span> line<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">)</span>\n            out<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>city<span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> out</code></pre></div>\n<p>Some issues with the above snippet: You might run out of memory {where there is a huge file}. This can be re-written using following</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">load_cities_list</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> handle<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> handle<span class=\"token punctuation\">:</span>\n            city<span class=\"token punctuation\">,</span> count <span class=\"token operator\">=</span> line<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">yield</span> city<span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span></code></pre></div>\n<p>In summary:</p>\n<ol>\n<li>Less noise, easier to read</li>\n<li>File can be arbitrary size</li>\n<li>Memory problems are gone</li>\n</ol>\n<h2>Be defensive when iterating over arguments</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>pop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    total <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>x <span class=\"token keyword\">for</span> _<span class=\"token punctuation\">,</span> x <span class=\"token keyword\">in</span> pop<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> city<span class=\"token punctuation\">,</span> count <span class=\"token keyword\">in</span> pop<span class=\"token punctuation\">:</span>\n        percent <span class=\"token operator\">=</span> <span class=\"token number\">100</span> <span class=\"token operator\">*</span> count <span class=\"token operator\">/</span> total\n        <span class=\"token keyword\">yield</span> city<span class=\"token punctuation\">,</span> percent</code></pre></div>\n<p>If you run the above code it will return <code class=\"language-text\">StopIteration</code> exception. This is because we’re iterating twice over pop.</p>\n<p>This can be refactored into iterable container.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">LoadCities</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>path <span class=\"token operator\">=</span> path\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__iter__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> handle<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> handle<span class=\"token punctuation\">:</span>\n                city<span class=\"token punctuation\">,</span> count <span class=\"token operator\">=</span> line<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">yield</span> city<span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span></code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>pop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    total <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>x <span class=\"token keyword\">for</span> _<span class=\"token punctuation\">,</span> x <span class=\"token keyword\">in</span> pop__iter__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> city<span class=\"token punctuation\">,</span> count <span class=\"token keyword\">in</span> pop<span class=\"token punctuation\">.</span>__iter__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        percent <span class=\"token operator\">=</span> <span class=\"token number\">100</span> <span class=\"token operator\">*</span> count <span class=\"token operator\">/</span> total\n        <span class=\"token keyword\">yield</span> city<span class=\"token punctuation\">,</span> percent</code></pre></div>\n<p>Note the extra <code class=\"language-text\">__iter__()</code></p>\n<p>In summary:</p>\n<ol>\n<li>Beware of multiple iterations over the same argument</li>\n<li>Define and use containers to avoid the problem entirely</li>\n<li>Use <code class=\"language-text\">iter(x) is iter(x)</code> to detect non-container</li>\n<li>Know the iterator protocol</li>\n</ol>","frontmatter":{"layout":"post","title":"Summary: How to Be More Effective with Functions","path":"/summary-how-to-be-more-effective-with-functions/","category":"Technical","tags":["Summary","Python"],"description":"Functions are basic constructs of programming language. This blog post we will show how to use them more effectively","date":"2018/01/15","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIDBP/aAAwDAQACEAMQAAABkcutAQxy/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAAxAR/9oACAEBAAEFAqlQitUzsGf/xAAYEQACAwAAAAAAAAAAAAAAAAABAhARIf/aAAgBAwEBPwEMorI//8QAFhEAAwAAAAAAAAAAAAAAAAAAEBJh/9oACAECAQE/AVo//8QAFxAAAwEAAAAAAAAAAAAAAAAAARASAP/aAAgBAQAGPwI1jSL/AP/EABsQAAIDAAMAAAAAAAAAAAAAAAEhABExEGFx/9oACAEBAAE/IWQv2EB+0HFZ0i1ASdwqK4//2gAMAwEAAgADAAAAEK/f/8QAGREAAwADAAAAAAAAAAAAAAAAABEhATFh/9oACAEDAQE/ELh1vpmn/8QAGREAAgMBAAAAAAAAAAAAAAAAACEBEXGh/9oACAECAQE/EJtbPmDg/8QAGhABAQEBAQEBAAAAAAAAAAAAAREhAFExgf/aAAgBAQABPxCIWGARD3oocwRnvMEAlWmfnBAYEcmhNnJHKa/Gd//Z","aspectRatio":1.7877094972067038,"src":"/blog/static/a967244f19251efaadc337a8fac0a20b/0f3a1/artificial-intelligence-3513224_640.jpg","srcSet":"/blog/static/a967244f19251efaadc337a8fac0a20b/1ada3/artificial-intelligence-3513224_640.jpg 125w,\n/blog/static/a967244f19251efaadc337a8fac0a20b/8f7df/artificial-intelligence-3513224_640.jpg 250w,\n/blog/static/a967244f19251efaadc337a8fac0a20b/0f3a1/artificial-intelligence-3513224_640.jpg 500w,\n/blog/static/a967244f19251efaadc337a8fac0a20b/f422e/artificial-intelligence-3513224_640.jpg 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p><a href=\"https://en.wikipedia.org/wiki/Code_refactoring\">Refactoring</a> is often not budgeted. But as <a href=\"https://twitter.com/haxor\">Brett Slatkin</a> mentions in his <a href=\"https://www.youtube.com/watch?v=D_6ybDcU5gc\">PyCon 2016 talk</a> it is one of the most important thing experienced developers get into habbit of doing. Following is summary of the talk</p>\n<ul>\n<li>\n<p>What is refactoring?</p>\n<ul>\n<li>Repeatedly reorganizing and rewriting code until its obvious* to new reader.</li>\n<li>When you’re refactoring is optimizing for readability</li>\n</ul>\n</li>\n<li>\n<p>When do you refactor?</p>\n<ul>\n<li>In advance</li>\n<li>For testing</li>\n<li>“Don’t repeat yourself”</li>\n<li>Brittleness</li>\n<li>\n<p>Complexity</p>\n<!--more-->\n</li>\n</ul>\n</li>\n<li>\n<p>What’s the difference between good and great programmer?</p>\n<ul>\n<li>Spend almost equal time in Writing and Testing code, Refactoring and Styling &#x26; Documentaton</li>\n<li>Half-time in refactoring</li>\n</ul>\n</li>\n<li>\n<p>How do you refactor?</p>\n<ul>\n<li>Identify bad code</li>\n<li>Improve it</li>\n<li>Run tests</li>\n<li>Fix and improve tests</li>\n<li>Repeat</li>\n</ul>\n</li>\n<li>\n<p>How do you refactor in practice?</p>\n<ul>\n<li>Rename, split and move</li>\n<li>Simplify</li>\n<li>Redraw boundaries</li>\n</ul>\n</li>\n<li>\n<p>Book Recommendations</p>\n<ul>\n<li>Refactoring by Martin Fowler</li>\n<li>Refactoring Ruby Edition by Jay Fields</li>\n<li>Effective Python</li>\n</ul>\n</li>\n<li>\n<p>Strategies</p>\n<ul>\n<li>Prerequisites</li>\n<li>Thorough Tests</li>\n<li>Quick test (Should be less than 5 mins)</li>\n<li>Source control</li>\n<li>Willing to make mistakes</li>\n<li>Extract Variables &#x26; Extract Functions</li>\n<li>Simplify expressions in if/else blocks to more readable names (i.e. Refactor them into variables)</li>\n<li>One step furthure: Extract them into functions</li>\n<li>Extracting functions is good, but over time it will become complicated and hard to understand i.e. what it is doing and how to test it</li>\n<li>If that is a case, Extract a <strong>Class</strong> from it and use magic method <code class=\"language-text\">def __bool__(self)</code>. Now replace functional version with class version (Aka Non-zero)</li>\n<li>Reason to do this is for <strong>testing</strong>. Makes it easy to test thing out</li>\n<li>Things to remember:</li>\n<li>Extract variables and functions to improve readability</li>\n<li>Extract variables into classes to improve testablity</li>\n<li>Use <code class=\"language-text\">__boo__</code> to indicate a class is a paper trail</li>\n<li>Extract Class &#x26; Move Fields</li>\n<li>If you have one class with complex logic and does everything in one single class that is a sign it needs refactoring</li>\n<li>\n<p>How do you redraw boundaries?</p>\n<ul>\n<li>Add an improved interface</li>\n<li>Maintain backwards compatability</li>\n<li>Issue warning for old usage</li>\n<li><code class=\"language-text\">import warnings</code></li>\n<li><code class=\"language-text\">warnings.warn(&quot;something&quot;)</code></li>\n<li><code class=\"language-text\">python -W error your_code.py</code> will convert warnings to errors</li>\n</ul>\n</li>\n<li>Refactor <code class=\"language-text\">Pet</code> class to <code class=\"language-text\">Animal</code></li>\n<li>\n<p>Raise TypeError for mixed usages (old and new one)</p>\n<ul>\n<li>Migrate old usage to new usage</li>\n<li>Run tests to verify the new correctness</li>\n<li>Fix and improve broken tests</li>\n<li>Remove code from interface</li>\n<li>\n<p>Things to Remember:</p>\n<ul>\n<li>Split classes using optional arguments to <code class=\"language-text\">__init__</code></li>\n<li>Use <code class=\"language-text\">@property</code> to move methods and fields between classes</li>\n<li>Issue warnings in old code paths to find their occurance</li>\n</ul>\n</li>\n<li>Need defensive property tombstones</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"layout":"post","title":"Summary: Refactoring Python: Why and how to restructure your code","path":"/summary-refactoring-python-why-and-how-to-restructure-your-code/","category":"Technical","tags":["Summary","Python"],"description":"Refactoring is basic activity that all developers do. This post summarizes interesting talk, learn how to do them more effectively","date":"2017/02/10","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQACBv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAA//aAAwDAQACEAMQAAABPY53csQcaf/EABkQAQEBAQEBAAAAAAAAAAAAAAECABEDE//aAAgBAQABBQInmAT1SbL5vrWquv8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAT/9oACAEDAQE/ARS1b//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AUf/xAAbEAADAAIDAAAAAAAAAAAAAAAAARESMSFBkf/aAAgBAQAGPwJNXVLnyRuml4dFP//EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVFh/9oACAEBAAE/IW3Eud7UgxuSnljHL/bGWl77WxcwfCf/2gAMAwEAAgADAAAAEJg//8QAFhEBAQEAAAAAAAAAAAAAAAAAAREA/9oACAEDAQE/EHaOCJDf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EEGzf//EABsQAQEBAAMBAQAAAAAAAAAAAAERADFBUSGx/9oACAEBAAE/EOpfDflgzM2mJD0v7ksAIIsyi1DyEygFCvJ5bxlyr6YG/9k=","aspectRatio":1.5058823529411764,"src":"/blog/static/5798bd0125dfbce624cebf1efd1afdb6/0f3a1/computer-1245714_640.jpg","srcSet":"/blog/static/5798bd0125dfbce624cebf1efd1afdb6/1ada3/computer-1245714_640.jpg 125w,\n/blog/static/5798bd0125dfbce624cebf1efd1afdb6/8f7df/computer-1245714_640.jpg 250w,\n/blog/static/5798bd0125dfbce624cebf1efd1afdb6/0f3a1/computer-1245714_640.jpg 500w,\n/blog/static/5798bd0125dfbce624cebf1efd1afdb6/f422e/computer-1245714_640.jpg 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Code Review are a great tool and you should do it often. <a href=\"https://smartbear.com/learn/code-review/best-practices-for-peer-code-review/\">Best Practices for Code Review</a> gives a great summary including benifits and top 10 tips. Checklist are great tool, <a href=\"https://www.jsc.nasa.gov/news/columbia/fr_generic.pdf\">NASA’s Space Shuttle Operational Flight Rules</a> is a great example. Current checklist is heavily inspired from <a href=\"https://www.liberty.edu/media/1414/%5B6401%5Dcode_review_checklist.pdf\">this Checklist</a>. Python specific elements are added to it which are inspired from <a href=\"https://www.youtube.com/watch?v=D_6ybDcU5gc\">Pycon 2016 Talk</a>. Go ahead and use this checklist for:</p>\n<ul>\n<li>Guide while starting new project</li>\n<li>Refactoring an existing project</li>\n<li>Rewriting a legacy project</li>\n</ul>\n<!--more-->\n<h2>Structure</h2>\n<ul>\n<li>Is the code PEP-8 compliant?</li>\n<li>Are there any uncalled or unneeded procedures or unreachable code?</li>\n<li>Can a code be replaced by standard library calls?</li>\n<li>Are there any blocks of codes that be made into single function?</li>\n<li>Are there any Magic Numbers or Constants?</li>\n<li>Does the code have any logical orgnaization or its all flat?</li>\n<li>Are there any complex modules that can be broken down into smaller chunks?</li>\n</ul>\n<h2>Documentation</h2>\n<ul>\n<li>Is there any documentation?</li>\n<li>Does the code explain what main modeules and entities are?</li>\n<li>Does the code have any comments?</li>\n<li>Are comments in these code meaningful?</li>\n<li>Do we have key classes/functions documented using right? {Read more on <a href=\"https://www.python.org/dev/peps/pep-0257/\">PEP257</a> for more details}</li>\n<li>Do we have a README.md?</li>\n<li>Do we have a WORKLOG.md?</li>\n<li>Do we have a TESTING.md?</li>\n<li>Are steps for setting up the project documented in README.md?</li>\n<li>Do we have a documentation of Key Models in README.md?</li>\n<li>Do we have documentation on key management commands?</li>\n<li>Do we have documentation of Key Roles in TESTING.md?</li>\n<li>Do we have a <a href=\"https://support.procore.com/references/user-permissions-matrix-web\">Permission Matrix</a>?</li>\n<li>Do we have a list of Critical Workflows for application in TESTING.md?</li>\n<li>Do we have list of Browsers with specific versions mentioned that we will be testing in TESTING.md?</li>\n<li>Do we have list of Mobile devices on which we will be doing testing in TESTING.md?</li>\n</ul>\n<h2>Variables</h2>\n<ul>\n<li>Does the code have abstract variables names as i,j and k?</li>\n<li>Does the code have clear and explicit names?</li>\n<li>Are there any redundant or unused variables?</li>\n</ul>\n<h2>Arithmetic Operations</h2>\n<ul>\n<li>Does the code have any blocks that are heavy in computations?</li>\n<li>Does code avoid floating point computations for comparision?</li>\n<li>Are computation calculations taken care of divide by zero errors?</li>\n<li>Are there unit-tests for computation logic?</li>\n</ul>\n<h2>Loops, Branches, Function and Classes</h2>\n<ul>\n<li>Are all loops and branches properly nested?</li>\n<li>Are most common cases in IF-ELSEIF block tested first?</li>\n<li>Are all cases covered in IF-ELSEIF-ELSE blocks?</li>\n<li>Are loops terminating on valid conditions?</li>\n<li>Can any statement that is within the loop placed outside the loop?</li>\n<li>Can blocks of IF-ELSE statement be named into function?</li>\n<li>Can blocks of functions be named into a class?</li>\n<li>Do we have a Class with just one single public function?</li>\n<li>Can blocks of function be moved into a module/external file?</li>\n<li>Does the Function/Class follow <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\">Single Responsibility Principle</a>?</li>\n</ul>\n<h2>Defensive programming</h2>\n<ul>\n<li>Do we have any blocks of code that should have TRY-EXCEPT blocks but don’t have them ?</li>\n<li>Are there any errors that are silent?</li>\n<li>Do we have test case or unit tests written?</li>\n</ul>\n<h2>Django Specific Checks</h2>\n<ul>\n<li>Do we have segregated settings {local.py, dev.py, prodction.py and base.py}?</li>\n<li>Do we have updated requirements.txt?</li>\n<li>Do we use PostgresSQL as default DB?</li>\n<li>Do we have one-off scripts that can be extracted into a Django Management Command?</li>\n<li>Do we have commented urls in urls.py?</li>\n<li>Are we using the right patterns for URLs? {<a href=\"https://simpleisbetterthancomplex.com/references/2016/10/10/url-patterns.html\">List of Useful URL Patterns</a> is a great reference}</li>\n<li>Are we importing specific Classes/Functions from modules <code class=\"language-text\">from accounts_manager.models import AccountsManager</code> as opposed to <code class=\"language-text\">from accounts_manager.models import *</code>?</li>\n<li>Do we have singular application and model names? {E.g. <code class=\"language-text\">accounts_manager</code> as opposed to <code class=\"language-text\">accountsmanager</code>}</li>\n<li>Are we storing contents of email outside code? {E.g. store contents of emails in <code class=\"language-text\">templates/emails/</code>}. Use <a href=\"https://docs.djangoproject.com/en/1.10/topics/templates/#django.template.loader.render_to_string\">render-string</a> for substitions</li>\n<li>Do we have Skinny Views and Fat Models? {<a href=\"https://hackerfall.com/story/fat-models--a-django-code-organization-strategy\">Reference Blogpost</a> explains with detail}</li>\n<li>Are we using standard packages like <a href=\"http://haystacksearch.org/\">django-haystack</a> as opposed to writing custom low level queries to search indexer?</li>\n<li>\n<p>Do we have following integrations from day one?</p>\n<ul>\n<li><a href=\"https://sentry.io/welcome/\">Sentry</a> for error tracking</li>\n<li><a href=\"https://www.hotjar.com/\">HotJar</a> for ux testing</li>\n<li><a href=\"https://analytics.google.com/\">Google Analytics</a> for analytics</li>\n</ul>\n</li>\n<li>Are we profiling code using <a href=\"http://django-debug-toolbar.readthedocs.io/en/stable/\">django-debug-toolbar</a>, do know how many queries are getting fired on most pages?</li>\n<li>Are we using redis for session backend? {<a href=\"http://michal.karzynski.pl/blog/2013/07/14/using-redis-as-django-session-store-and-cache-backend/\">Reference Blogpost</a>}</li>\n<li>Do we have simple template tags? {Ideally no DB calls in template tags}</li>\n<li>Are we minifing all our static assets using <a href=\"https://django-compressor.readthedocs.io/en/latest/\">django-compressor</a> ?</li>\n<li>Do we have our static on CDN?</li>\n<li>Do we have deployment scripted using <a href=\"https://www.ansible.com/\">Ansible</a> ?</li>\n</ul>","frontmatter":{"layout":"post","title":"Pro Tip: Code Review Checklist{Django covered}","path":"/pro-tip-code-review-checklistdjango-covered/","category":"Technical","tags":["Python"],"description":"Looking for checklist? This blog post we will look at how to conduct code reviews","date":"2017/02/08","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAA//aAAwDAQACEAMQAAABspu4mePhp//EABoQAAEFAQAAAAAAAAAAAAAAAAEAAgMQEhH/2gAIAQEAAQUCU7yDjtZFf//EABYRAQEBAAAAAAAAAAAAAAAAAAABEv/aAAgBAwEBPwFuv//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAABAjEQEiH/2gAIAQEABj8CFGK2dtHZ5o//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhQTFRkf/aAAgBAQABPyFQ1nwaQ+ZKe8Ug6WKmOnh//9oADAMBAAIAAwAAABD07//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEfD/2gAIAQMBAT8QHHZ6C//EABYRAQEBAAAAAAAAAAAAAAAAAAABIf/aAAgBAgEBPxBdf//EABsQAQADAQEBAQAAAAAAAAAAAAEAESFBUTFh/9oACAEBAAE/EGu75EnuOB4N87DowlilPy4hxBlgcHS4Oj4x/9k=","aspectRatio":1.592039800995025,"src":"/blog/static/eafdbcfa33a89693b83fef976b137b24/0f3a1/checklist-2077020_640.jpg","srcSet":"/blog/static/eafdbcfa33a89693b83fef976b137b24/1ada3/checklist-2077020_640.jpg 125w,\n/blog/static/eafdbcfa33a89693b83fef976b137b24/8f7df/checklist-2077020_640.jpg 250w,\n/blog/static/eafdbcfa33a89693b83fef976b137b24/0f3a1/checklist-2077020_640.jpg 500w,\n/blog/static/eafdbcfa33a89693b83fef976b137b24/f422e/checklist-2077020_640.jpg 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Code Review ar<a href=\"https://github.com/gward\">Greg Ward</a> gave a great <a href=\"https://www.youtube.com/watch?v=r9cnHO15YgU\">PyCon 2015</a> talk on how to make reusable code. We liked it, basically lays out 9 point guidelines that helps programmers make informed decisions about their design. Most of it might seem obvious but putting into use is where all the effort lies. Its a great investment of about 25mins of your time.</p>\n<h2>Overview</h2>\n<ul>\n<li>OOP was not a silver bullet</li>\n<li>\n<p>How to write reusable code?</p>\n<ul>\n<li>Through hard work its not free or its magic.</li>\n<li>Required foretought and attention to detail</li>\n</ul>\n</li>\n<li>\n<p>Caveat:</p>\n<ul>\n<li>Not everything needs to be library</li>\n</ul>\n</li>\n<li>\n<p>Principles of Reusable Code:</p>\n<ul>\n<li>Be a better programmer</li>\n<li>Fewer classes, more functions</li>\n<li>Funtions != procedures (beware of side effects)</li>\n<li>Fewer frameworks, more libraries</li>\n<li>Don’t go overboard</li>\n<li>Don’t solve everything</li>\n<li>Test, test, test</li>\n<li>Document, document, document</li>\n<li>Extensibility != reusability</li>\n</ul>\n</li>\n</ul>\n<!--more-->\n<h2>Be a better programmer</h2>\n<ul>\n<li>Read more code</li>\n<li>Write more code</li>\n<li>Read more books</li>\n<li>Do not learn to program from Google</li>\n<li>\n<p>Book reccommendations:</p>\n<ul>\n<li>The Practice of Programming</li>\n<li>The Pragmatic Programmer</li>\n<li>Beautiful Code</li>\n</ul>\n</li>\n<li>Review and Refactor your code mercilessly</li>\n</ul>\n<h2>Fewer classes, more functions</h2>\n<ul>\n<li>Don’t write classes when you need function</li>\n<li>A collection of related functions with shared state: that’s a class make one!</li>\n<li>\n<p>Anti Pattern 1</p>\n<ul>\n<li>a class with a single public method</li>\n<li>especially a class with single method</li>\n</ul>\n</li>\n<li>\n<p>Anti Pattern 2</p>\n<ul>\n<li>Opposite of Anti Pattern 1</li>\n<li>If set of functions use same arguments and use similar data structure need to be in a Class</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ThingLoader</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> host<span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>host <span class=\"token operator\">=</span> host\n        self<span class=\"token punctuation\">.</span><span class=\"token builtin\">id</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">id</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">load</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\">#</span>\n        <span class=\"token comment\">#...</span></code></pre></div>\n<h2>Functions != Procedures</h2>\n<ul>\n<li>Pascal’s best idea: functions compute stuff, procedures do stuff</li>\n<li>mainstream imperative languages (C, Java, Python) don’t care</li>\n<li>You should care about distinction</li>\n<li>Rule of thumb: Every function should either return a value or have a side effect. Never both!</li>\n<li>\n<p>Anti Pattern 1</p>\n<ul>\n<li>C programmer are notorious for this sort of thing</li>\n<li>Python programmers also do it</li>\n<li>Compute and Modify original data-structure is bad</li>\n</ul>\n</li>\n</ul>\n<h2>Fewer frameworks, more libraries</h2>\n<ul>\n<li>Library: Code that you call (you are in control)</li>\n<li>Framework: Code that calls you (frameworks are in control)</li>\n<li>You can’t pick and choose which bits of framework you want</li>\n<li>It’s typically all or nothing</li>\n<li>This hampers reuse</li>\n</ul>\n<h2>Don’t go overboard</h2>\n<ul>\n<li>OOP is a useful trick have in the toolbox</li>\n<li>Thus, calsses are not evil</li>\n<li>A computer is just a big box of numbers (with some wires going and some wires going out)</li>\n<li>Side effects are unavoidable: they are not evil</li>\n<li>Certain problem domains call out for constraints</li>\n<li>Frameworks are not evil</li>\n</ul>\n<h2>Don’t solve everything</h2>\n<ul>\n<li>Avoid the temptation to handle every case: you will miss something</li>\n<li>Who can supply the functionality you left out? programmers, the very people who use your library</li>\n<li>Who can remove that bit of ill-advised code you put in that’s ruining my dat? NOBODY</li>\n</ul>\n<h2>Test, test, test</h2>\n<ul>\n<li>Automated test are necessary but not sufficient</li>\n<li>Untested code is useless</li>\n<li>Tested code might be useful</li>\n<li>No controversy here: You must write tests</li>\n</ul>\n<h2>Document, document, document</h2>\n<ul>\n<li>Documentation is necessary but not sufficient</li>\n<li>Undocumented code is useless</li>\n<li>Documented code might be useful</li>\n<li>Inline reference docs (docstring, java, etc) is bare minimum</li>\n<li>When you document every public method, you will find gaps</li>\n<li>This will also help write tests</li>\n</ul>\n<h2>Extensibility != Reusability</h2>\n<ul>\n<li>Another part of the early 90s snake-oil promise: extensible, reusable software components</li>\n<li>Just because you type “class Foo” does not make your code reusable or extensible</li>\n<li>These are largely independent properties of software</li>\n</ul>\n<h2>Conclusion</h2>\n<ul>\n<li>There is no such thing as free lunch</li>\n<li>Good stuff require efforts</li>\n<li>That includes reusable and/or extensible code</li>\n<li>Beware of pompous windbags, clueless pontifications and other purveyors of snake oil</li>\n</ul>","frontmatter":{"layout":"post","title":"Summary: How to Write Reusable Code","path":"/summary-how-to-write-reusable-code/","category":"Technical","tags":["Summary","Python"],"description":"OOP was not a silver bullet. How to write reusable code? Through hard work its not free or its magic. Required forethought and attention to detail. Caveat: Not everything needs to be library","date":"2017/02/08","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQoz42T2XKDMAxF+Y4mYAxmX8yW0CQEsvQhM/3/77mVTWkbN10eBIYRV1dHwhJhjJXtIC0q1E2BMIkQxjEY97F2XNiM393N88pmOp7Wjg5LhBEcN0QckVicQj3PCXOiKWqezbA8EcD1AsiqRVaUSLJCR5zmiKiA43q/CphFLO4JEhQoZIW8rEhU0l0iy0vtWCWt7O8t/+jQJVaMHLabHt12i7rdIJctkqKFFxDPKAH3g4etPxRULXkiRJJXiNLZWRCliAIBIQQcKmizGf6/GKoL4yFk06PtR7TdBlmWQ6Hg3ANzOTmMP9r/azjWzIhpV0231fxk3eBwnDCOJwzDgOfDiIKGtgzIZPn1bN2xUXv1njxOZ4ynCwYSvVxfsNsfdCGfuCpEn0PidwOzFB9zeZnrYyCH0/mKiUT3wxGlrPUaKUG1FVrAcOgsLZv21Qfbfoeu63G7vZLTM+1po1teln0RZOod/SFpkhP7Am+k6DkqFneGewAAAABJRU5ErkJggg==","aspectRatio":1.7777777777777777,"src":"/blog/static/b165f2db911bbcbfad2c631c2e32c478/46604/code-1084923_640.png","srcSet":"/blog/static/b165f2db911bbcbfad2c631c2e32c478/62d80/code-1084923_640.png 125w,\n/blog/static/b165f2db911bbcbfad2c631c2e32c478/e1953/code-1084923_640.png 250w,\n/blog/static/b165f2db911bbcbfad2c631c2e32c478/46604/code-1084923_640.png 500w,\n/blog/static/b165f2db911bbcbfad2c631c2e32c478/f3dec/code-1084923_640.png 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Summary of <a href=\"https://www.youtube.com/watch?v=VUvEDg30FyY&#x26;index=62&#x26;list=WL\">PyGotham 2014 Talk</a></p>\n<ul>\n<li>Procedural programming simple steps and recipie of things and steps to follow that are easy to wrap head round.</li>\n<li>Object oriented is like working with blue prints</li>\n<li>OO maps your mental model to code</li>\n<li>Nothing in python that forces you to be consistency, for which you have to apply “Discipline” of your own</li>\n<li>\n<p>Advantages of having OO Code:</p>\n<ul>\n<li>Improve Maintainibility</li>\n<li>Simplifies Testing</li>\n<li>Simplifies Communication</li>\n</ul>\n</li>\n<li>Design Principles SOLID {Applies to Functions, Classes, Modules}</li>\n</ul>\n<!--more-->\n<h2>Singe Responsibility Principle</h2>\n<ul>\n<li>Code should have one and one reason to change</li>\n<li>\n<p>If you have one giant class with lot of functions has some disadvantages:</p>\n<ul>\n<li>Big class and lot of code makes design more fragile</li>\n<li>Test suite is going to be real large</li>\n<li>Several people working on project might step onto each others toes</li>\n</ul>\n</li>\n<li>Solution: <strong>Break a large class into smaller logical blocks</strong></li>\n<li>Try to break Persistence and Business Logic</li>\n<li>Basically your code should co-ordinate between different function that will allow better modularity</li>\n</ul>\n<h2>Open/Close Principle</h2>\n<ul>\n<li>Code should be open to extension but closed to modification</li>\n<li>Use factories need to be create objects for working with current class</li>\n<li>Writing code so that it doesn’t have to be rewritten again</li>\n</ul>\n<h2>Liskov’s Substitution Principle</h2>\n<ul>\n<li>Basically Enhanced Duck Typing</li>\n<li>Anywhere you use a base class, you should be able to use a subclass and not know it</li>\n<li>Same methods, Same Inteface and Same Behaviour</li>\n<li>Basically Subclass shouldn’t have special case behaviour, it will render code that was working fine suddenly not working</li>\n</ul>\n<h2>Interface Segregation Principle</h2>\n<ul>\n<li>Don’t force client to use interface they don’t need</li>\n<li>When you’re using objects, how many interfaces am I using? Because the more you’re using, tightly coupled it is</li>\n</ul>\n<h2>Dependency Inversion Principle</h2>\n<ul>\n<li>High level modules should not rely on low level modules. Both should rely on abstractions</li>\n<li>E.g. I am writing a music player MusicPlayer which has playlist, load data, play_sound, update the sate etc.</li>\n<li>State of playback from playlist, Reading Files, Audio Subsystem</li>\n<li>\n<p>Refacto to following classes:</p>\n<ul>\n<li>MusicPlayer, AudioPlayer</li>\n<li>MusciPlayers: SoundCar and NetStream {Allows swapping at runtime}</li>\n</ul>\n</li>\n</ul>\n<h2>Bonus: Tell Don’t Ask</h2>\n<ul>\n<li>Tell object to do their stuff, dont ask them for their data</li>\n<li>Refactor code from</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">calculate</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    cost <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">for</span> line_item <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>bill<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">:</span>\n        cost <span class=\"token operator\">+=</span> line_item<span class=\"token punctuation\">.</span>cost\n\n<span class=\"token comment\"># Better way</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">calculate</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    cost <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>bill<span class=\"token punctuation\">.</span>total_cost<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"layout":"post","title":"Summary: How to Write Actually Object Oriented Python","path":"/summary-how-to-write-actually-object-oriented-python/","category":"Technical","tags":["Summary","Python"],"description":"Writing modular and re-usable code make maintenance and development easier. This blog post we explore how to write OO code that allows to achieve this objective","date":"2017/02/01","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADBElEQVQ4y32Sa1MTZxiG+Sf9EfVHdKYfOj18sXXG6Tg4tQVqVToVMM2pTVVMRi2xGg6BGEzCYdDCSFKtQKUVHGzJAUIOBUzcQBKaxJCEzUavvps0o/3Qfrj32X2fe665d/du0QZrdI7d58KohyuuccxiWiZmMU/NY7g5Qef4A1SPdrWM1l/5Hx2gDci09PxRxTA6SGx9mrR/huLaDIX0NpUDiMUf0mXvRx8HYwwMUaHYfygCumBVBSp8M+YgWdxitgj5kkx1f59Cpcaf2RA9jmFOOOZp65+hfdBH26BXzFfqGBJnNrFz/dJMqGBwD5N/HiWQybO5vclO8inp9F8ks0E6LOe5Zhvi/E9dHHW+zyeeIxx3f8Qx12FaXUc4fPM9zPcNXP5hgC8WpAbQ6BlmpxBjKVOkFAtQ2MsgH9TYzYdpu2TCfXuWi7/f48Ppfo77HLTetXPCN0LXoot2nw1P/Ffsnik6HiT/nXAur7D7m5fngSV2RVpJJGw3m3BOTNP3BFp/hJNeCMYTbKYlSlIB6e0rVC96sY1N8nkTaBTATCHKSq5CaUkAtyLkCmVSe6E68NbkDKfnFA4N5nnLlSOcWSajRChuRdl+42PKRy0MTEy9BvSMkC3GmcvJ5JbvUQg8Ipcvic+wUX9lu/s2xkcv+WC8yElfmXh2nUQpSDayRurNU5Q/u45V1K3j50QDqHfa2BNpUskk2xtBdlJJUZ0sCekxX37fi/mylWtDt+i97qRvyIXVdpW+gUu47DdwnzUxabLQe9VK9+M8LWppTzvu8N3IKNZxLz1GE5oLZqx35vnW7uAr112W0wqrUo4VKc+G+HGBVT+RcBR/usxytsyTzD7zUhl9SPRQF5RFfxTOruxzauEZ7xxr491POznzMFU/+zqo1KUNvUAjNJVQqMgyRdF855aCJlBDF6o1PGoP1YvacF3ggO5Fia6FBN1CPYsp9MHmTq6b1WdLuIo5rE5ZzFc7XZ0jqwmrNKH6tRfo1182JO61TbMK/cenETrnb0jz2q65/xtHMUGO+FllcgAAAABJRU5ErkJggg==","aspectRatio":1.5023474178403755,"src":"/blog/static/993b1b2524fb45fd5fe8bc57a101587f/46604/dual-screen-1745705_640.png","srcSet":"/blog/static/993b1b2524fb45fd5fe8bc57a101587f/62d80/dual-screen-1745705_640.png 125w,\n/blog/static/993b1b2524fb45fd5fe8bc57a101587f/e1953/dual-screen-1745705_640.png 250w,\n/blog/static/993b1b2524fb45fd5fe8bc57a101587f/46604/dual-screen-1745705_640.png 500w,\n/blog/static/993b1b2524fb45fd5fe8bc57a101587f/f3dec/dual-screen-1745705_640.png 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p><a href=\"https://www.youtube.com/watch?v=-JQBfUnYxXA\">Django Con 2016 Video</a> nicely explains and gives tips for non-designers. Its a good talk to get you upto some level of competency in designing</p>\n<ul>\n<li>Design: Make an interface that works well</li>\n<li>How can we create effective, basic designs?</li>\n<li>Fastest way to better design is to cut down on clutter</li>\n<li>\n<p>Line things up - pixel differences are definately unconsciously notices</p>\n<!--more-->\n</li>\n<li>Use Bootstrap it has built in grid system that makes life easier</li>\n<li>Color principles: Keep you colors complementary. Use mostly neutrals + one brighter color for important bits</li>\n<li><a href=\"https://www.smashingmagazine.com/2016/04/web-developer-guide-color/\">A Simple Web Developer’s Guide To Color</a></li>\n<li><a href=\"http://www.colourlovers.com/\">Color Lovers</a> is a website where people share their color pallets</li>\n<li>Test different color pallets to see which one works</li>\n<li>Fonts:Keep the number of fonts low - two different fonts is usually a good rule of thumb</li>\n<li>Use fnacy/display font sparingly - very cluttery</li>\n<li>Vary weights(bolds), style(italics) and transforms (uppercase, etc.) to differentiate bits.</li>\n<li><a href=\"http://chad.is/beautiful-web-type/\">Beautiful Web Type</a> and <a href=\"https://www.typewolf.com/\">Typewolf</a> have good curated fonts</li>\n<li>White Space: The ultimate clutter reducer</li>\n<li>Reduce visual clutter, by keepting the number of fonts and colors low, add white space and line things up. Aim for a “clean” design</li>\n<li>\n<p>User experience principles:</p>\n<ul>\n<li>How it works is more important than how it looks</li>\n<li>Whats the most important action on your design?</li>\n<li>Make it easy to find and use</li>\n<li>Pay attention to your goals</li>\n<li>Make it easy to find and use {Use analytics to find how you’re design is doing}</li>\n<li>Content: Less is More</li>\n<li>Big Paragraph are a sign of clutter. Break into bullets if you can</li>\n<li>Improve readability by formatting using bolds, italics and add white spaces</li>\n<li>\n<p>Headlines:</p>\n<ul>\n<li>Talk benifits not details</li>\n<li>\n<p>Keep it short</p>\n<ul>\n<li>Use natural, friendly language</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Image and Imagery:</li>\n<li>Stock photos usually looks like stock photos</li>\n<li>\n<p>You can accomplish a lot with just type and screenshots</p>\n<ul>\n<li>Remember to pay attention to file size</li>\n<li>Don’t forget retina-quality images</li>\n</ul>\n</li>\n<li><a href=\"https://unsplash.com/\">Unsplash</a>, <a href=\"http://photopin.com/\">Photopin</a> and <a href=\"https://pixabay.com/\">Pixabay</a></li>\n<li><a href=\"http://fiverr.com/\">fiverr</a> is option to get stuff done on budget</li>\n<li><a href=\"https://www.siteinspire.com/\">Site Inspire</a>, <a href=\"http://unmatchedstyle.com/\">Unmatchd Style</a> and <a href=\"http://www.cssmania.com/\">CSS Mania</a> are good sources of inspiration</li>\n<li>If there is design that you like, pick elements that you like</li>\n<li>Quick overview of Design Process:</li>\n<li>Collect Inspiration</li>\n<li>Build sketch, basic ones</li>\n<li>Mock something out</li>\n<li>Build it</li>\n</ul>\n</li>\n</ul>","frontmatter":{"layout":"post","title":"Summary: How to Write Reusable Code","path":"/summary-design-for-non-designers/","category":"Technical","tags":["Summary","Design"],"description":"Design is an interesting field, for developers it might be black magic. Following are some lessons developers can learn about design.","date":"2017/02/01","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB1LiRYaJP/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAEBEh/9oACAEBAAEFAkGLM6L/AP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFkf//EABgQAAIDAAAAAAAAAAAAAAAAABAgISIy/9oACAEBAAY/AqwMJ//EABoQAQADAAMAAAAAAAAAAAAAAAEAETEQIVH/2gAIAQEAAT8hGgFzSGFtsaLvvsHP/9oADAMBAAIAAwAAABDQH//EABcRAQADAAAAAAAAAAAAAAAAAAABEVH/2gAIAQMBAT8QVOv/xAAVEQEBAAAAAAAAAAAAAAAAAAAAYf/aAAgBAgEBPxBB/8QAGhABAQEBAAMAAAAAAAAAAAAAAREAITFRYf/aAAgBAQABPxCoLzC99984oUA6yVxjIU0UfuAOByhjQ3//2Q==","aspectRatio":1.6666666666666667,"src":"/blog/static/a1e7c629f2463d088a3b88362eee3f72/0f3a1/desktop-2325627_640.jpg","srcSet":"/blog/static/a1e7c629f2463d088a3b88362eee3f72/1ada3/desktop-2325627_640.jpg 125w,\n/blog/static/a1e7c629f2463d088a3b88362eee3f72/8f7df/desktop-2325627_640.jpg 250w,\n/blog/static/a1e7c629f2463d088a3b88362eee3f72/0f3a1/desktop-2325627_640.jpg 500w,\n/blog/static/a1e7c629f2463d088a3b88362eee3f72/f422e/desktop-2325627_640.jpg 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Writing code that is readable your peers require some extra effort apart from documentation. We found an interesting Video from Djangocon 2016 on <a href=\"https://www.youtube.com/watch?v=NvkC5UBJqeY&#x26;t=37s\">Readability Counts</a>. <a href=\"https://twitter.com/treyhunner\">Terry Hunner</a> talks wonderfully on the matter.</p>\n<p>Textbook definition from <a href=\"https://en.wikipedia.org/wiki/Readability\">Wikipedia</a> “Readability is the ease with which a reader can understand a written text.”</p>\n<h2>Why does readability matter ?</h2>\n<ul>\n<li>You read core often than you write</li>\n<li>Not all developers are mortal</li>\n<li>To change code you will need to read and understand it first</li>\n<li>Lot easier to onboard people when they can read the code</li>\n</ul>\n<!--more-->\n<h2>Structuring your code</h2>\n<ul>\n<li>Long lines are note easy to read despite it not being an issue on bigger screen today</li>\n<li>Subtleties between Line length and Text width</li>\n<li><strong>Line length</strong>: number of characters in one line of text</li>\n<li><strong>Text width</strong>: line length without indentations</li>\n</ul>\n<h2>Wrapping Lines</h2>\n<ul>\n<li>Split codes in logical blocks</li>\n</ul>\n<h2>Function Calls</h2>\n<ul>\n<li>Document a Style Guide for all projects on indentation {Ideally, though we don’t often do it}</li>\n<li>Explicit conventions</li>\n</ul>\n<h2>Summary</h2>\n<ul>\n<li>Keep your text width narrow (60 character)</li>\n<li>Do not rely on automatic line wrapping</li>\n<li>Insert line breaks with readability in mind</li>\n<li>Document your code structure and then <strong>stick to them</strong></li>\n</ul>\n<h2>Naming things</h2>\n<ul>\n<li>If a concept is important it needs names, it is used for communication</li>\n<li>Naming things is hard because describing them is hard</li>\n<li>Summarize that description using name</li>\n<li>Use long variable names if needed</li>\n<li>Worry about accuracy not the length of the name</li>\n<li>Replace index access with names e.g. “i, j”</li>\n<li>Refactor a loaded if statement to its own function. This will make code more readable</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">detect_anagrams</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">,</span> candidates<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    anagrams <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> candidate <span class=\"token keyword\">in</span> candidates<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>candidate<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">and</span> word<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> candidate<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            anagrams<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>candidate<span class=\"token punctuation\">)</span></code></pre></div>\n<p>can be refactored to</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">detect_anagrams</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">,</span> candidates<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    anagrams <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> candidate <span class=\"token keyword\">in</span> candidates<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> is_anagram<span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">,</span> candidate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            anagrams<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>candidate<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Note: the <strong>is_anagram</strong> function</p>\n<ul>\n<li>Reading code <strong>aloud</strong> help to find how descriptive your code is</li>\n<li>When using comments it might suggest you might need more meaningful variable names E.g.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">is_anagram</span><span class=\"token punctuation\">(</span>word1<span class=\"token punctuation\">,</span> word2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    word1<span class=\"token punctuation\">,</span> word2 <span class=\"token operator\">=</span> word1<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> word2<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    are_different_words <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>word1 <span class=\"token operator\">!=</span> word2<span class=\"token punctuation\">)</span>\n    have_same_letters <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>word1<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>word2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> have_same_letters <span class=\"token keyword\">and</span> are_different_words</code></pre></div>\n<h2>So Many Functions</h2>\n<ul>\n<li>Break down complex functions into helper functions</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">update_appointment_types</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Delete/make appt. types and set default appt. type\"\"\"</span>\n    self<span class=\"token punctuation\">.</span>_delete_stale_appointment_types<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    self<span class=\"token punctuation\">.</span>_create_new_appointment_types<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    self<span class=\"token punctuation\">.</span>_update_default_appointment_type<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>In general, try to write a self-documenting code</li>\n</ul>\n<h2>Programming idioms</h2>\n<ul>\n<li>Special purpose constructs can reduce complexity</li>\n<li>When making one list from another use List Comprehensions</li>\n<li>Refactor try and except with a Context Manager</li>\n<li>Class: If you’re finding same data to multiple functions, think about making a class</li>\n</ul>\n<h2>Readability Checklist</h2>\n<ul>\n<li>Can I modify line breaks to improve clarity?</li>\n<li>Can I create a variable name for unnamed code?</li>\n<li>Can I add a comment to improve clarity?</li>\n<li>Can I turn a comment into a better variable name?</li>\n<li>Can I use more specific programming construct?</li>\n<li>Have I stated detailed preference in a style guide? (The more decisions you push to style guide more brain power can be used for actual work)</li>\n</ul>\n<h3>Hire Python Developers</h3>\n<p>We’re a team of <strong>experienced</strong> Django developers. Our Python team is 15 members strong. In our 7 years of operations we’ve delivered project to clients in UK, USA and India. We do take on Remote projects that matches your timezone.</p>","frontmatter":{"layout":"post","title":"Summary: Readability Counts","path":"/summary-readability-counts/","category":"Technical","tags":["Summary","Python"],"description":"Code gets read more than it gets written. For this reason we must write code from readers perspective. Following are some lessons along the lines","date":"2017/01/19","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAcd5RyIKg1//xAAaEAADAQADAAAAAAAAAAAAAAABAgMRABIT/9oACAEBAAEFAl4IkrOfZZLo9KSnuD//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAEAAgIDAAAAAAAAAAAAAAABABECECEiYf/aAAgBAQAGPwL2danMW6xIWCOv/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/IYIlPGbSpzv3LRA3Kn9Ge4nION7hAb//2gAMAwEAAgADAAAAEJwP/8QAFhEBAQEAAAAAAAAAAAAAAAAAACFR/9oACAEDAQE/EKuv/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERUf/aAAgBAgEBPxBcY//EABwQAQEAAgMBAQAAAAAAAAAAAAERACExQVFx0f/aAAgBAQABPxBlQBoOcl2KpKjnfmbTAEDx+4jcNQqeg/cLK/OBe33bhCmg5z//2Q==","aspectRatio":1.3445378151260505,"src":"/blog/static/b7c62c8fe3fa42261af8058522479efb/0f3a1/mobile-phone-1513945_640.jpg","srcSet":"/blog/static/b7c62c8fe3fa42261af8058522479efb/1ada3/mobile-phone-1513945_640.jpg 125w,\n/blog/static/b7c62c8fe3fa42261af8058522479efb/8f7df/mobile-phone-1513945_640.jpg 250w,\n/blog/static/b7c62c8fe3fa42261af8058522479efb/0f3a1/mobile-phone-1513945_640.jpg 500w,\n/blog/static/b7c62c8fe3fa42261af8058522479efb/f422e/mobile-phone-1513945_640.jpg 640w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p><a href=\"https://en.wikipedia.org/wiki/Word_embedding\">Word Embdeddings</a> are extremely interesting and exciting. The fact that you can now represent words in vectors space opens up a lot of avenues on how Natural Language Processing will be done.</p>\n<p>In original paper <a href=\"https://arxiv.org/abs/1310.4546\">Distributed Representations of Words and Phrases and their Compositionality</a> Mikolov et. al described Skip-gram model. Which given a word tries to predict the context around that word. Inverse of Skip-gram model is Continuous Bag-Of-Word model which given the context tries to predict the word. CBOW is described in more details in <a href=\"http://arxiv.org/pdf/1301.3781.pdf\">Efficient Estimation of Word Representations in Vector Space</a>.</p>\n<!--more-->\n<p>Following is a compilation of 5 variants of the original <a href=\"https://en.wikipedia.org/wiki/Word2vec\">word2vec</a> class of models</p>\n<ol>\n<li><a href=\"https://radimrehurek.com/gensim/models/doc2vec.html\">doc2vec</a> although not officially named in paper <a href=\"https://cs.stanford.edu/~quocle/paragraph_vector.pdf\">Distributed Representations of Sentences and Documents</a> it an embedding of documents from documents to vector space. Possible applications include Classification and Clustering as with any other lexical units.</li>\n<li><a href=\"https://arxiv.org/abs/1605.03481\">tweet2vec</a> this paper talks about embedding tweets into vector space. This is situations where you have lot of noisy text and informal language structure.</li>\n<li><a href=\"http://arxiv.org/abs/1603.04259\">item2vec</a>, dealing with item and user similarity is at heart of lot of recommendation algorithms. Item2vec talks about embedding users/items into vector space representation. This is similar to SVD or other Matrix Factorization algorithms which generate low-rank matrix as approximation of original rating matrix.</li>\n<li><a href=\"https://github.com/cemoody/lda2vec\">lda2vec</a>, this embedding technique tries to marry best of both worlds, word2vec and LDA. I can see this having a lot of values in domain where there are mixed topics in text.</li>\n<li><a href=\"https://meta.wikimedia.org/wiki/Research:Wikipedia_Navigation_Vectors\">Wikipedia Navigation Vectors</a>, Wikipedia is my preferred resource for NLP tasks. This research project take an interesting idea of modelling co-visitation in session and try to figure out similar articles based on raw logs. Be sure to check out the visualization on the page, it’s really interesting.</li>\n<li>BONUS:<a href=\"https://research.yahoo.com/publications/8758/scalable-semantic-matching-queries-ads-sponsored-search-advertising\">search2vec</a>, Broad matching is big deal in online advertising. Historically this has been done using query expansion and rewriting. This paper talks about embedding search logs’s action along with ad information. Key highlight of this paper is that it talks about doing distributed embedding using Hadoop.</li>\n</ol>","frontmatter":{"layout":"post","title":"5 Variants Of Word Embeddings","path":"/5-variants-of-word-embeddings/","category":"Technical","tags":["NLP","Research"],"description":"Embedding have taken NLP world like a wild fire. In this blog post we explore how variants of embedding can be used in real world","date":"2016/05/31","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABzklEQVQ4y41Ua2+DMAzk//+98lq1qusKtBXQUiiB8PJ8AaPQ7cMsWQlJfDmfHRx6s2EYSOvOjF3X8Vwbt+f2mm3TNJGDQKWU8bZtKIrO5Hk++eyB75PruhQEIYVhSPv9nna7HX8H9MHzOEmoaRoTixHm6LalsqwMet/3NI6jmedZRi0fxDdc9szI+6quKY4iA4b11+s1M8RGVVUr7XEa6Xz6Jq3mGwUQhze+gIvVjGMAoQM+RAMAJnFMii8BECSBI3jjHFc+n3Q6HqngESnjvANxQVfYwMqypHphLQxtx8UNx1wvCeVpSim7pO4gXQCI4SboKqn91zYpi4bX241C11vTRWqS8kZLMDftpdesVkAwqpg+NLmwdtWzXPvxL/1AoOc1dEDoeVQUxRYQ6YIhqg1Qw2ppEbsoNku4ZiKf3Js1A28A+74zDB/3Oykj9IU61tAGs8HBDoE3buqYM/qVMnQAbVQVzKDPAACL2TswDIVTC7uthryYpRmlXJBhadT3Csu3gKFoX4cD5Xm+ngG4AWz5pjunq1m/JzcoNtCXKBb0xVzWwMKcWV5XZ8UUj8fch0gFoHhKCMAiDuK2+YfRrn8eFEwegbztemlo7GP8AXVLkW0093gEAAAAAElFTkSuQmCC","aspectRatio":1.3360881542699725,"src":"/blog/static/888ce9a0ba271e20ec91e4aac261cd9a/46604/01-word-embedding.png","srcSet":"/blog/static/888ce9a0ba271e20ec91e4aac261cd9a/62d80/01-word-embedding.png 125w,\n/blog/static/888ce9a0ba271e20ec91e4aac261cd9a/e1953/01-word-embedding.png 250w,\n/blog/static/888ce9a0ba271e20ec91e4aac261cd9a/46604/01-word-embedding.png 500w,\n/blog/static/888ce9a0ba271e20ec91e4aac261cd9a/d8815/01-word-embedding.png 750w,\n/blog/static/888ce9a0ba271e20ec91e4aac261cd9a/8c758/01-word-embedding.png 970w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},{"post":{"html":"<p>Picture is worth a thousand words, but words in those picture is worth even more. Words have power beyond our imagination. It affect our thinking, our emotion and our behaviors. To truly understand power of words spend 3 mins of your time listening to Mohammed Qahtani’s <a href=\"https://www.youtube.com/watch?v=qasE4ecA57Y\">“The Power of Words”</a> his winning speech at 2015 World Public Speaking competition.</p>\n<p>In this blog post we will be focusing on surveying the landscape at high level, upcoming posts will have more technical details to it. Never before in era did we as humans had access to vast sources of information but also tools to process it to meaningful insights. Computers now can Summarize Multiple Documents, Win Jeopardy, Carryout Dialog with Humans and Translate 50 languages. In Business what this implies is you can find out why you’re customers are not satisfied. Have instant access to dynamically changing competitive environment and most importantly truly understand customer’s intents.</p>\n <!--more-->\n<p>Here at Fafadia Tech we’re on a constant lookout for tools that will help our customers attain their business objectives. Following are collections of tools and research we believe that will help Businesses in 2016</p>\n<h2>Automatic Text Summarization</h2>\n<p>Getting 360 degree picture is important, but the pile of information that one has to sift through is increasing day by day. Text Summarization is active area of research with many solved problem, many yet to be solved. Imagine that you’re doing Credit Analysis for a potential borrower. Financial Institutes are looking beyond Balance Sheets, Income Tax Return statements. But also to online reputation and social score of their founders.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Automatic_summarization\">Automatic Text Summarization</a> works by extracting and ranking key facts from multiple document that have a greater information contents than individual bits. The way to think about it is threading pearls of information into a nice necklace. General approach to most automatic summarization is as follows</p>\n<ul>\n<li>Retrieve relevant documents</li>\n<li>Extract snippets of textual bits that are of importance</li>\n<li>Rank these extracted snippets, and group them into some logical order</li>\n<li>Natural Language Generation - Use these extracted information to generated a single document</li>\n</ul>\n<h2>Question Answering</h2>\n<p>Turing test is no longer the only way in which the AI community looks to evaluate and advance research. Recently <a href=\"http://allenai.org/\">AI2</a> a Paul Allen company is looking to reframe how efficient AI systems are by making them take Science and Math test which 7th graders do. Recently they hosted a <a href=\"http://blog.kaggle.com/2016/04/09/the-allen-ai-science-challenge-winners-interview-3rd-place-alejandro-mosquera/\">competition on Kaggle</a> where participants were asked to build model which will allow them to pass 7th grade science test. Participants were allowed to use corpus like CK12.org and Wikipedia to build their models.</p>\n<p><a href=\"http://searchengineland.com/library/google/google-knowledge-graph\">Google’s Knowledge Graph</a> and <a href=\"http://www.cnet.com/news/microsofts-bing-seeks-enlightenment-with-satori/\">Microsoft’s Santori</a> are some of repository of human knowledge. Google has started serving answers as opposed to just returning collection of ranked documents. This has been made possible because of Knowledge graphs, which it has been curating semi-automatically. Knowledge graph not only stores factual information for different entities, but also associations among them. QA engineers are building blocks to Chat Bots and Virtual Assistants which we’re covering next.</p>\n<h2>Chat Bots and Virtual Assistants</h2>\n<p>Customer support is a tricky business, for commoditized businesses it is important to create value by providing the right support at the right time. Big tech companies have entered into an Artificial Intelligence arms race to create Virtual Assistants. List of things that these Virtual Assistants can do include</p>\n<ul>\n<li>Find Phone numbers to nearby restaurants</li>\n<li>Order Pizza</li>\n<li>Book a Flight ticket</li>\n<li>Alert you on traffic conditions</li>\n<li>Perform Simple scheduling tasks</li>\n</ul>\n<p>With Mobile AI now has rich context to Location, Time of Day and other sources of Publicly available information. IBM’s Watson, Google’s Now, Facebook’s M, Microsoft’s Cortana, Apple’s Siri and Amazon’s Echo are few to increasing number of players in this domain. These companies are getting sophisticated in sense they can convert your voice commands to actual actions.</p>\n<p>Image an scenario where a Car’s Manufacturer App can walk through the fault detection steps, in certain cases based on user’s’ inputs dispatch a mechanic nearest to location of car breakdown. Or Imagine a Health Virtual Assistant that can handle your be in a better shape by recommending you different diet and exercises based on your parameters from fitness band.</p>\n<p>Advances in Deep Learning, improvement in GPUs and ASIC for Machine Learning and growing number of open source tools are indicators of some of advances to come. Microsoft has open sourced their Bot framework. Facebook has opensource their GPU hardware and Google has open sourced their Deep Learning software which is optimized for their ASICs.</p>","frontmatter":{"layout":"post","title":"Exciting times to do Natural Language Processing","path":"/5-variants-of-word-embeddings/","category":"Technical","tags":["NLP","Research"],"description":"NLP is exciting, in this roundup we look at latest happening in NLP domain","date":"2016/05/26","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB5Gd0iC4f/8QAGhAAAQUBAAAAAAAAAAAAAAAAAAECAxESIf/aAAgBAQABBQKNG0UYFZzJ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxABAAMAAAAAAAAAAAAAAAAAECIxUf/aAAgBAQAGPwKWtv8A/8QAHBAAAQMFAAAAAAAAAAAAAAAAAQARIRAxcaHw/9oACAEBAAE/ITuDIgPeogTpZr//2gAMAwEAAgADAAAAEGPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQEAAwADAAAAAAAAAAAAAREAIUGxYeHx/9oACAEBAAE/EE6CxV+HOoQB0NuUdmqzz963Hopf1mGed//Z","aspectRatio":1.5789473684210527,"src":"/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/0f3a1/00-hodor.jpg","srcSet":"/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/1ada3/00-hodor.jpg 125w,\n/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/8f7df/00-hodor.jpg 250w,\n/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/0f3a1/00-hodor.jpg 500w,\n/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/f9913/00-hodor.jpg 750w,\n/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/a7715/00-hodor.jpg 1000w,\n/blog/static/b23053da2f3f3a866c3980bdde1ad4d5/7f945/00-hodor.jpg 1440w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}}]}},"pageContext":{}}}